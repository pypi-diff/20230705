# Comparing `tmp/modal_client-0.50.2570-py3-none-any.whl.zip` & `tmp/modal_client-0.50.2573-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,168 +1,168 @@
-Zip file size: 269230 bytes, number of entries: 166
--rw-r--r--  2.0 unx       28 b- defN 23-Jul-04 14:15 client_test/__init__.py
--rw-r--r--  2.0 unx      392 b- defN 23-Jul-04 14:15 client_test/aio_test.py
--rw-r--r--  2.0 unx     5409 b- defN 23-Jul-04 14:15 client_test/async_utils_test.py
--rw-r--r--  2.0 unx     1474 b- defN 23-Jul-04 14:15 client_test/blob_test.py
--rw-r--r--  2.0 unx     3979 b- defN 23-Jul-04 14:15 client_test/cli_imports_test.py
--rw-r--r--  2.0 unx    16686 b- defN 23-Jul-04 14:15 client_test/cli_test.py
--rw-r--r--  2.0 unx     4768 b- defN 23-Jul-04 14:15 client_test/client_test.py
--rw-r--r--  2.0 unx     4422 b- defN 23-Jul-04 14:15 client_test/cls_test.py
--rw-r--r--  2.0 unx     2622 b- defN 23-Jul-04 14:15 client_test/config_test.py
--rw-r--r--  2.0 unx    32707 b- defN 23-Jul-04 14:15 client_test/conftest.py
--rw-r--r--  2.0 unx     4555 b- defN 23-Jul-04 14:15 client_test/container_app_test.py
--rw-r--r--  2.0 unx    24810 b- defN 23-Jul-04 14:15 client_test/container_test.py
--rw-r--r--  2.0 unx      405 b- defN 23-Jul-04 14:15 client_test/cpu_test.py
--rw-r--r--  2.0 unx     1086 b- defN 23-Jul-04 14:15 client_test/deprecation_test.py
--rw-r--r--  2.0 unx     2182 b- defN 23-Jul-04 14:15 client_test/e2e_test.py
--rw-r--r--  2.0 unx      165 b- defN 23-Jul-04 14:15 client_test/error_test.py
--rw-r--r--  2.0 unx      964 b- defN 23-Jul-04 14:15 client_test/function_serialization_test.py
--rw-r--r--  2.0 unx    16973 b- defN 23-Jul-04 14:15 client_test/function_test.py
--rw-r--r--  2.0 unx     3924 b- defN 23-Jul-04 14:15 client_test/gpu_test.py
--rw-r--r--  2.0 unx     5047 b- defN 23-Jul-04 14:15 client_test/grpc_utils_test.py
--rw-r--r--  2.0 unx      930 b- defN 23-Jul-04 14:15 client_test/helpers.py
--rw-r--r--  2.0 unx    15884 b- defN 23-Jul-04 14:15 client_test/image_test.py
--rw-r--r--  2.0 unx     2356 b- defN 23-Jul-04 14:15 client_test/live_reload_test.py
--rw-r--r--  2.0 unx     2619 b- defN 23-Jul-04 14:15 client_test/lookup_test.py
--rw-r--r--  2.0 unx     5317 b- defN 23-Jul-04 14:15 client_test/mount_test.py
--rw-r--r--  2.0 unx     6239 b- defN 23-Jul-04 14:15 client_test/mounted_files_test.py
--rw-r--r--  2.0 unx     2157 b- defN 23-Jul-04 14:15 client_test/notebook_test.py
--rw-r--r--  2.0 unx     1394 b- defN 23-Jul-04 14:15 client_test/object_test.py
--rw-r--r--  2.0 unx      413 b- defN 23-Jul-04 14:15 client_test/package_utils_test.py
--rw-r--r--  2.0 unx     1560 b- defN 23-Jul-04 14:15 client_test/resolver_test.py
--rw-r--r--  2.0 unx     1807 b- defN 23-Jul-04 14:15 client_test/retries_test.py
--rw-r--r--  2.0 unx     2428 b- defN 23-Jul-04 14:15 client_test/runner_test.py
--rw-r--r--  2.0 unx      359 b- defN 23-Jul-04 14:15 client_test/schedule_test.py
--rw-r--r--  2.0 unx     1185 b- defN 23-Jul-04 14:15 client_test/secret_test.py
--rw-r--r--  2.0 unx     1086 b- defN 23-Jul-04 14:15 client_test/serialization_test.py
--rw-r--r--  2.0 unx     4184 b- defN 23-Jul-04 14:15 client_test/shared_volume_test.py
--rw-r--r--  2.0 unx     8092 b- defN 23-Jul-04 14:15 client_test/stub_test.py
--rw-r--r--  2.0 unx     2691 b- defN 23-Jul-04 14:15 client_test/utils_test.py
--rw-r--r--  2.0 unx      410 b- defN 23-Jul-04 14:15 client_test/version_test.py
--rw-r--r--  2.0 unx     2172 b- defN 23-Jul-04 14:15 client_test/volume_test.py
--rw-r--r--  2.0 unx     1160 b- defN 23-Jul-04 14:15 client_test/watcher_test.py
--rw-r--r--  2.0 unx     4014 b- defN 23-Jul-04 14:15 client_test/webhook_test.py
--rw-r--r--  2.0 unx     1083 b- defN 23-Jul-04 14:15 modal/__init__.py
--rw-r--r--  2.0 unx      157 b- defN 23-Jul-04 14:15 modal/__main__.py
--rw-r--r--  2.0 unx     2135 b- defN 23-Jul-04 14:15 modal/_asgi.py
--rw-r--r--  2.0 unx    13413 b- defN 23-Jul-04 14:15 modal/_blob_utils.py
--rw-r--r--  2.0 unx    26319 b- defN 23-Jul-04 14:15 modal/_container_entrypoint.py
--rw-r--r--  2.0 unx    10990 b- defN 23-Jul-04 14:15 modal/_function_utils.py
--rw-r--r--  2.0 unx      450 b- defN 23-Jul-04 14:15 modal/_ipython.py
--rw-r--r--  2.0 unx      929 b- defN 23-Jul-04 14:15 modal/_location.py
--rw-r--r--  2.0 unx      850 b- defN 23-Jul-04 14:15 modal/_object_meta.py
--rw-r--r--  2.0 unx    17381 b- defN 23-Jul-04 14:15 modal/_output.py
--rw-r--r--  2.0 unx     1785 b- defN 23-Jul-04 14:15 modal/_proxy_tunnel.py
--rw-r--r--  2.0 unx     5043 b- defN 23-Jul-04 14:15 modal/_pty.py
--rw-r--r--  2.0 unx     5538 b- defN 23-Jul-04 14:15 modal/_resolver.py
--rw-r--r--  2.0 unx     1863 b- defN 23-Jul-04 14:15 modal/_serialization.py
--rw-r--r--  2.0 unx     7598 b- defN 23-Jul-04 14:15 modal/_traceback.py
--rw-r--r--  2.0 unx     1995 b- defN 23-Jul-04 14:15 modal/_tracing.py
--rw-r--r--  2.0 unx      490 b- defN 23-Jul-04 14:15 modal/_types.py
--rw-r--r--  2.0 unx     3409 b- defN 23-Jul-04 14:15 modal/_watcher.py
--rw-r--r--  2.0 unx      703 b- defN 23-Jul-04 14:15 modal/aio.py
--rw-r--r--  2.0 unx    11467 b- defN 23-Jul-04 14:15 modal/app.py
--rw-r--r--  2.0 unx     6300 b- defN 23-Jul-04 14:15 modal/app.pyi
--rw-r--r--  2.0 unx     2462 b- defN 23-Jul-04 14:15 modal/call_graph.py
--rw-r--r--  2.0 unx     9162 b- defN 23-Jul-04 14:15 modal/client.py
--rw-r--r--  2.0 unx     3429 b- defN 23-Jul-04 14:15 modal/client.pyi
--rw-r--r--  2.0 unx     1737 b- defN 23-Jul-04 14:15 modal/cls.py
--rw-r--r--  2.0 unx     7149 b- defN 23-Jul-04 14:15 modal/config.py
--rw-r--r--  2.0 unx     6638 b- defN 23-Jul-04 14:15 modal/dict.py
--rw-r--r--  2.0 unx     4061 b- defN 23-Jul-04 14:15 modal/dict.pyi
--rw-r--r--  2.0 unx     2189 b- defN 23-Jul-04 14:15 modal/environments.py
--rw-r--r--  2.0 unx     1195 b- defN 23-Jul-04 14:15 modal/environments.pyi
--rw-r--r--  2.0 unx     2750 b- defN 23-Jul-04 14:15 modal/exception.py
--rw-r--r--  2.0 unx    60540 b- defN 23-Jul-04 14:15 modal/functions.py
--rw-r--r--  2.0 unx    17573 b- defN 23-Jul-04 14:15 modal/functions.pyi
--rw-r--r--  2.0 unx     4995 b- defN 23-Jul-04 14:15 modal/gpu.py
--rw-r--r--  2.0 unx    48532 b- defN 23-Jul-04 14:15 modal/image.py
--rw-r--r--  2.0 unx    14761 b- defN 23-Jul-04 14:15 modal/image.pyi
--rw-r--r--  2.0 unx    15044 b- defN 23-Jul-04 14:15 modal/mount.py
--rw-r--r--  2.0 unx     5711 b- defN 23-Jul-04 14:15 modal/mount.pyi
--rw-r--r--  2.0 unx    13027 b- defN 23-Jul-04 14:15 modal/object.py
--rw-r--r--  2.0 unx     7948 b- defN 23-Jul-04 14:15 modal/object.pyi
--rw-r--r--  2.0 unx      623 b- defN 23-Jul-04 14:15 modal/proxy.py
--rw-r--r--  2.0 unx      312 b- defN 23-Jul-04 14:15 modal/proxy.pyi
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-04 14:15 modal/py.typed
--rw-r--r--  2.0 unx     5686 b- defN 23-Jul-04 14:15 modal/queue.py
--rw-r--r--  2.0 unx     3062 b- defN 23-Jul-04 14:15 modal/queue.pyi
--rw-r--r--  2.0 unx      502 b- defN 23-Jul-04 14:15 modal/requirements.txt
--rw-r--r--  2.0 unx     3730 b- defN 23-Jul-04 14:15 modal/retries.py
--rw-r--r--  2.0 unx     9446 b- defN 23-Jul-04 14:15 modal/runner.py
--rw-r--r--  2.0 unx     2619 b- defN 23-Jul-04 14:15 modal/schedule.py
--rw-r--r--  2.0 unx     5078 b- defN 23-Jul-04 14:15 modal/secret.py
--rw-r--r--  2.0 unx      765 b- defN 23-Jul-04 14:15 modal/secret.pyi
--rw-r--r--  2.0 unx     4717 b- defN 23-Jul-04 14:15 modal/serving.py
--rw-r--r--  2.0 unx    10056 b- defN 23-Jul-04 14:15 modal/shared_volume.py
--rw-r--r--  2.0 unx     4287 b- defN 23-Jul-04 14:15 modal/shared_volume.pyi
--rw-r--r--  2.0 unx    28991 b- defN 23-Jul-04 14:15 modal/stub.py
--rw-r--r--  2.0 unx    13692 b- defN 23-Jul-04 14:15 modal/stub.pyi
--rw-r--r--  2.0 unx     4993 b- defN 23-Jul-04 14:15 modal/volume.py
--rw-r--r--  2.0 unx     1350 b- defN 23-Jul-04 14:15 modal/volume.pyi
--rw-r--r--  2.0 unx       28 b- defN 23-Jul-04 14:15 modal/cli/__init__.py
--rw-r--r--  2.0 unx     3152 b- defN 23-Jul-04 14:15 modal/cli/app.py
--rw-r--r--  2.0 unx     1373 b- defN 23-Jul-04 14:15 modal/cli/config.py
--rw-r--r--  2.0 unx     1882 b- defN 23-Jul-04 14:15 modal/cli/entry_point.py
--rw-r--r--  2.0 unx     3803 b- defN 23-Jul-04 14:15 modal/cli/environment.py
--rw-r--r--  2.0 unx    10552 b- defN 23-Jul-04 14:15 modal/cli/import_refs.py
--rw-r--r--  2.0 unx      759 b- defN 23-Jul-04 14:15 modal/cli/profile.py
--rw-r--r--  2.0 unx     9628 b- defN 23-Jul-04 14:15 modal/cli/run.py
--rw-r--r--  2.0 unx     4159 b- defN 23-Jul-04 14:15 modal/cli/secret.py
--rw-r--r--  2.0 unx     3085 b- defN 23-Jul-04 14:15 modal/cli/token.py
--rw-r--r--  2.0 unx     1437 b- defN 23-Jul-04 14:15 modal/cli/utils.py
--rw-r--r--  2.0 unx    10520 b- defN 23-Jul-04 14:15 modal/cli/volume.py
--rw-r--r--  2.0 unx       28 b- defN 23-Jul-04 14:15 modal/extensions/__init__.py
--rw-r--r--  2.0 unx      987 b- defN 23-Jul-04 14:15 modal/extensions/ipython.py
--rw-r--r--  2.0 unx     6221 b- defN 23-Jul-04 14:15 modal/extensions/pymc.py
--rw-r--r--  2.0 unx       28 b- defN 23-Jul-04 14:15 modal_base_images/__init__.py
--rw-r--r--  2.0 unx      730 b- defN 23-Jul-04 14:15 modal_base_images/client_mount.py
--rw-r--r--  2.0 unx      324 b- defN 23-Jul-04 14:15 modal_base_images/conda.py
--rw-r--r--  2.0 unx      330 b- defN 23-Jul-04 14:15 modal_base_images/debian_slim.py
--rw-r--r--  2.0 unx      329 b- defN 23-Jul-04 14:15 modal_base_images/micromamba.py
--rw-r--r--  2.0 unx       28 b- defN 23-Jul-04 14:15 modal_proto/__init__.py
--rw-r--r--  2.0 unx    28852 b- defN 23-Jul-04 14:15 modal_proto/api.proto
--rw-r--r--  2.0 unx    48299 b- defN 23-Jul-04 14:15 modal_proto/api_grpc.py
--rw-r--r--  2.0 unx   119312 b- defN 23-Jul-04 14:15 modal_proto/api_pb2.py
--rw-r--r--  2.0 unx   104399 b- defN 23-Jul-04 14:15 modal_proto/api_pb2_grpc.py
--rw-r--r--  2.0 unx       28 b- defN 23-Jul-04 14:15 modal_test_support/__init__.py
--rw-r--r--  2.0 unx      134 b- defN 23-Jul-04 14:15 modal_test_support/assert_package.py
--rw-r--r--  2.0 unx      171 b- defN 23-Jul-04 14:15 modal_test_support/consumed_map.py
--rw-r--r--  2.0 unx     3013 b- defN 23-Jul-04 14:15 modal_test_support/functions.py
--rw-r--r--  2.0 unx      183 b- defN 23-Jul-04 14:15 modal_test_support/hello.py
--rw-r--r--  2.0 unx      266 b- defN 23-Jul-04 14:15 modal_test_support/image_run_function.py
--rw-r--r--  2.0 unx      180 b- defN 23-Jul-04 14:15 modal_test_support/is_inside.py
--rw-r--r--  2.0 unx      187 b- defN 23-Jul-04 14:15 modal_test_support/missing_main_conditional.py
--rw-r--r--  2.0 unx       59 b- defN 23-Jul-04 14:15 modal_test_support/module_1.py
--rw-r--r--  2.0 unx       59 b- defN 23-Jul-04 14:15 modal_test_support/module_2.py
--rw-r--r--  2.0 unx      277 b- defN 23-Jul-04 14:15 modal_test_support/multistub.py
--rw-r--r--  2.0 unx      228 b- defN 23-Jul-04 14:15 modal_test_support/multistub_is_inside.py
--rw-r--r--  2.0 unx      222 b- defN 23-Jul-04 14:15 modal_test_support/multistub_is_inside_warning.py
--rw-r--r--  2.0 unx      269 b- defN 23-Jul-04 14:15 modal_test_support/multistub_privately_decorated.py
--rw-r--r--  2.0 unx      211 b- defN 23-Jul-04 14:15 modal_test_support/multistub_privately_decorated_named_stub.py
--rw-r--r--  2.0 unx      218 b- defN 23-Jul-04 14:15 modal_test_support/multistub_same_name.py
--rw-r--r--  2.0 unx      219 b- defN 23-Jul-04 14:15 modal_test_support/multistub_serialized_func.py
--rw-r--r--  2.0 unx      197 b- defN 23-Jul-04 14:15 modal_test_support/package_mount.py
--rw-r--r--  2.0 unx      171 b- defN 23-Jul-04 14:15 modal_test_support/progress_info.py
--rw-r--r--  2.0 unx      153 b- defN 23-Jul-04 14:15 modal_test_support/script.py
--rw-r--r--  2.0 unx      178 b- defN 23-Jul-04 14:15 modal_test_support/startup_failure.py
--rw-r--r--  2.0 unx      177 b- defN 23-Jul-04 14:15 modal_test_support/stub.py
--rw-r--r--  2.0 unx      144 b- defN 23-Jul-04 14:15 modal_test_support/unconsumed_map.py
--rw-r--r--  2.0 unx      123 b- defN 23-Jul-04 14:15 modal_test_support/webhook_forgot_function.py
--rw-r--r--  2.0 unx       28 b- defN 23-Jul-04 14:15 modal_utils/__init__.py
--rw-r--r--  2.0 unx      465 b- defN 23-Jul-04 14:15 modal_utils/app_utils.py
--rw-r--r--  2.0 unx    11362 b- defN 23-Jul-04 14:15 modal_utils/async_utils.py
--rw-r--r--  2.0 unx     6538 b- defN 23-Jul-04 14:15 modal_utils/grpc_testing.py
--rw-r--r--  2.0 unx     9320 b- defN 23-Jul-04 14:15 modal_utils/grpc_utils.py
--rw-r--r--  2.0 unx     1597 b- defN 23-Jul-04 14:15 modal_utils/hash_utils.py
--rw-r--r--  2.0 unx     1426 b- defN 23-Jul-04 14:15 modal_utils/http_utils.py
--rw-r--r--  2.0 unx      113 b- defN 23-Jul-04 14:15 modal_utils/logger.py
--rw-r--r--  2.0 unx     1226 b- defN 23-Jul-04 14:15 modal_utils/package_utils.py
--rw-r--r--  2.0 unx      458 b- defN 23-Jul-04 14:15 modal_version/__init__.py
--rw-r--r--  2.0 unx       48 b- defN 23-Jul-04 14:15 modal_version/_version_generated.py
--rw-r--r--  2.0 unx    10173 b- defN 23-Jul-04 14:15 modal_client-0.50.2570.dist-info/LICENSE
--rw-r--r--  2.0 unx     1923 b- defN 23-Jul-04 14:15 modal_client-0.50.2570.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jul-04 14:15 modal_client-0.50.2570.dist-info/WHEEL
--rw-r--r--  2.0 unx       46 b- defN 23-Jul-04 14:15 modal_client-0.50.2570.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       93 b- defN 23-Jul-04 14:15 modal_client-0.50.2570.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx    13497 b- defN 23-Jul-04 14:15 modal_client-0.50.2570.dist-info/RECORD
-166 files, 1075482 bytes uncompressed, 248320 bytes compressed:  76.9%
+Zip file size: 269213 bytes, number of entries: 166
+-rw-r--r--  2.0 unx       28 b- defN 23-Jul-05 14:57 client_test/__init__.py
+-rw-r--r--  2.0 unx      392 b- defN 23-Jul-05 14:57 client_test/aio_test.py
+-rw-r--r--  2.0 unx     5409 b- defN 23-Jul-05 14:57 client_test/async_utils_test.py
+-rw-r--r--  2.0 unx     1474 b- defN 23-Jul-05 14:57 client_test/blob_test.py
+-rw-r--r--  2.0 unx     3979 b- defN 23-Jul-05 14:57 client_test/cli_imports_test.py
+-rw-r--r--  2.0 unx    16686 b- defN 23-Jul-05 14:57 client_test/cli_test.py
+-rw-r--r--  2.0 unx     4768 b- defN 23-Jul-05 14:57 client_test/client_test.py
+-rw-r--r--  2.0 unx     4422 b- defN 23-Jul-05 14:57 client_test/cls_test.py
+-rw-r--r--  2.0 unx     2622 b- defN 23-Jul-05 14:57 client_test/config_test.py
+-rw-r--r--  2.0 unx    32707 b- defN 23-Jul-05 14:57 client_test/conftest.py
+-rw-r--r--  2.0 unx     4555 b- defN 23-Jul-05 14:57 client_test/container_app_test.py
+-rw-r--r--  2.0 unx    24810 b- defN 23-Jul-05 14:57 client_test/container_test.py
+-rw-r--r--  2.0 unx      405 b- defN 23-Jul-05 14:57 client_test/cpu_test.py
+-rw-r--r--  2.0 unx     1086 b- defN 23-Jul-05 14:57 client_test/deprecation_test.py
+-rw-r--r--  2.0 unx     2182 b- defN 23-Jul-05 14:57 client_test/e2e_test.py
+-rw-r--r--  2.0 unx      165 b- defN 23-Jul-05 14:57 client_test/error_test.py
+-rw-r--r--  2.0 unx      964 b- defN 23-Jul-05 14:57 client_test/function_serialization_test.py
+-rw-r--r--  2.0 unx    16973 b- defN 23-Jul-05 14:57 client_test/function_test.py
+-rw-r--r--  2.0 unx     3924 b- defN 23-Jul-05 14:57 client_test/gpu_test.py
+-rw-r--r--  2.0 unx     5047 b- defN 23-Jul-05 14:57 client_test/grpc_utils_test.py
+-rw-r--r--  2.0 unx      930 b- defN 23-Jul-05 14:57 client_test/helpers.py
+-rw-r--r--  2.0 unx    15884 b- defN 23-Jul-05 14:57 client_test/image_test.py
+-rw-r--r--  2.0 unx     2356 b- defN 23-Jul-05 14:57 client_test/live_reload_test.py
+-rw-r--r--  2.0 unx     2619 b- defN 23-Jul-05 14:57 client_test/lookup_test.py
+-rw-r--r--  2.0 unx     5317 b- defN 23-Jul-05 14:57 client_test/mount_test.py
+-rw-r--r--  2.0 unx     6239 b- defN 23-Jul-05 14:57 client_test/mounted_files_test.py
+-rw-r--r--  2.0 unx     2157 b- defN 23-Jul-05 14:57 client_test/notebook_test.py
+-rw-r--r--  2.0 unx     1394 b- defN 23-Jul-05 14:57 client_test/object_test.py
+-rw-r--r--  2.0 unx      413 b- defN 23-Jul-05 14:57 client_test/package_utils_test.py
+-rw-r--r--  2.0 unx     1560 b- defN 23-Jul-05 14:57 client_test/resolver_test.py
+-rw-r--r--  2.0 unx     1807 b- defN 23-Jul-05 14:57 client_test/retries_test.py
+-rw-r--r--  2.0 unx     2428 b- defN 23-Jul-05 14:57 client_test/runner_test.py
+-rw-r--r--  2.0 unx      359 b- defN 23-Jul-05 14:57 client_test/schedule_test.py
+-rw-r--r--  2.0 unx     1185 b- defN 23-Jul-05 14:57 client_test/secret_test.py
+-rw-r--r--  2.0 unx     1086 b- defN 23-Jul-05 14:57 client_test/serialization_test.py
+-rw-r--r--  2.0 unx     4184 b- defN 23-Jul-05 14:57 client_test/shared_volume_test.py
+-rw-r--r--  2.0 unx     8092 b- defN 23-Jul-05 14:57 client_test/stub_test.py
+-rw-r--r--  2.0 unx     2691 b- defN 23-Jul-05 14:57 client_test/utils_test.py
+-rw-r--r--  2.0 unx      410 b- defN 23-Jul-05 14:57 client_test/version_test.py
+-rw-r--r--  2.0 unx     2172 b- defN 23-Jul-05 14:57 client_test/volume_test.py
+-rw-r--r--  2.0 unx     1160 b- defN 23-Jul-05 14:57 client_test/watcher_test.py
+-rw-r--r--  2.0 unx     4014 b- defN 23-Jul-05 14:57 client_test/webhook_test.py
+-rw-r--r--  2.0 unx     1083 b- defN 23-Jul-05 14:57 modal/__init__.py
+-rw-r--r--  2.0 unx      157 b- defN 23-Jul-05 14:57 modal/__main__.py
+-rw-r--r--  2.0 unx     2135 b- defN 23-Jul-05 14:57 modal/_asgi.py
+-rw-r--r--  2.0 unx    13413 b- defN 23-Jul-05 14:57 modal/_blob_utils.py
+-rw-r--r--  2.0 unx    26319 b- defN 23-Jul-05 14:57 modal/_container_entrypoint.py
+-rw-r--r--  2.0 unx    10990 b- defN 23-Jul-05 14:57 modal/_function_utils.py
+-rw-r--r--  2.0 unx      450 b- defN 23-Jul-05 14:57 modal/_ipython.py
+-rw-r--r--  2.0 unx      929 b- defN 23-Jul-05 14:57 modal/_location.py
+-rw-r--r--  2.0 unx      850 b- defN 23-Jul-05 14:57 modal/_object_meta.py
+-rw-r--r--  2.0 unx    17381 b- defN 23-Jul-05 14:57 modal/_output.py
+-rw-r--r--  2.0 unx     1785 b- defN 23-Jul-05 14:57 modal/_proxy_tunnel.py
+-rw-r--r--  2.0 unx     5043 b- defN 23-Jul-05 14:57 modal/_pty.py
+-rw-r--r--  2.0 unx     5538 b- defN 23-Jul-05 14:57 modal/_resolver.py
+-rw-r--r--  2.0 unx     1863 b- defN 23-Jul-05 14:57 modal/_serialization.py
+-rw-r--r--  2.0 unx     7598 b- defN 23-Jul-05 14:57 modal/_traceback.py
+-rw-r--r--  2.0 unx     1995 b- defN 23-Jul-05 14:57 modal/_tracing.py
+-rw-r--r--  2.0 unx      490 b- defN 23-Jul-05 14:57 modal/_types.py
+-rw-r--r--  2.0 unx     3409 b- defN 23-Jul-05 14:57 modal/_watcher.py
+-rw-r--r--  2.0 unx      703 b- defN 23-Jul-05 14:57 modal/aio.py
+-rw-r--r--  2.0 unx    11467 b- defN 23-Jul-05 14:57 modal/app.py
+-rw-r--r--  2.0 unx     6300 b- defN 23-Jul-05 14:57 modal/app.pyi
+-rw-r--r--  2.0 unx     2462 b- defN 23-Jul-05 14:57 modal/call_graph.py
+-rw-r--r--  2.0 unx     9162 b- defN 23-Jul-05 14:57 modal/client.py
+-rw-r--r--  2.0 unx     3429 b- defN 23-Jul-05 14:57 modal/client.pyi
+-rw-r--r--  2.0 unx     1737 b- defN 23-Jul-05 14:57 modal/cls.py
+-rw-r--r--  2.0 unx     7149 b- defN 23-Jul-05 14:57 modal/config.py
+-rw-r--r--  2.0 unx     6638 b- defN 23-Jul-05 14:57 modal/dict.py
+-rw-r--r--  2.0 unx     4061 b- defN 23-Jul-05 14:57 modal/dict.pyi
+-rw-r--r--  2.0 unx     2189 b- defN 23-Jul-05 14:57 modal/environments.py
+-rw-r--r--  2.0 unx     1195 b- defN 23-Jul-05 14:57 modal/environments.pyi
+-rw-r--r--  2.0 unx     2750 b- defN 23-Jul-05 14:57 modal/exception.py
+-rw-r--r--  2.0 unx    60540 b- defN 23-Jul-05 14:57 modal/functions.py
+-rw-r--r--  2.0 unx    17573 b- defN 23-Jul-05 14:57 modal/functions.pyi
+-rw-r--r--  2.0 unx     4995 b- defN 23-Jul-05 14:57 modal/gpu.py
+-rw-r--r--  2.0 unx    48532 b- defN 23-Jul-05 14:57 modal/image.py
+-rw-r--r--  2.0 unx    14761 b- defN 23-Jul-05 14:57 modal/image.pyi
+-rw-r--r--  2.0 unx    15044 b- defN 23-Jul-05 14:57 modal/mount.py
+-rw-r--r--  2.0 unx     5711 b- defN 23-Jul-05 14:57 modal/mount.pyi
+-rw-r--r--  2.0 unx    13027 b- defN 23-Jul-05 14:57 modal/object.py
+-rw-r--r--  2.0 unx     7948 b- defN 23-Jul-05 14:57 modal/object.pyi
+-rw-r--r--  2.0 unx      623 b- defN 23-Jul-05 14:57 modal/proxy.py
+-rw-r--r--  2.0 unx      312 b- defN 23-Jul-05 14:57 modal/proxy.pyi
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-05 14:57 modal/py.typed
+-rw-r--r--  2.0 unx     5686 b- defN 23-Jul-05 14:57 modal/queue.py
+-rw-r--r--  2.0 unx     3062 b- defN 23-Jul-05 14:57 modal/queue.pyi
+-rw-r--r--  2.0 unx      502 b- defN 23-Jul-05 14:57 modal/requirements.txt
+-rw-r--r--  2.0 unx     3730 b- defN 23-Jul-05 14:57 modal/retries.py
+-rw-r--r--  2.0 unx     9446 b- defN 23-Jul-05 14:57 modal/runner.py
+-rw-r--r--  2.0 unx     2619 b- defN 23-Jul-05 14:57 modal/schedule.py
+-rw-r--r--  2.0 unx     5078 b- defN 23-Jul-05 14:57 modal/secret.py
+-rw-r--r--  2.0 unx      765 b- defN 23-Jul-05 14:57 modal/secret.pyi
+-rw-r--r--  2.0 unx     4717 b- defN 23-Jul-05 14:57 modal/serving.py
+-rw-r--r--  2.0 unx    10056 b- defN 23-Jul-05 14:57 modal/shared_volume.py
+-rw-r--r--  2.0 unx     4287 b- defN 23-Jul-05 14:57 modal/shared_volume.pyi
+-rw-r--r--  2.0 unx    28991 b- defN 23-Jul-05 14:57 modal/stub.py
+-rw-r--r--  2.0 unx    13692 b- defN 23-Jul-05 14:57 modal/stub.pyi
+-rw-r--r--  2.0 unx     4993 b- defN 23-Jul-05 14:57 modal/volume.py
+-rw-r--r--  2.0 unx     1350 b- defN 23-Jul-05 14:57 modal/volume.pyi
+-rw-r--r--  2.0 unx       28 b- defN 23-Jul-05 14:57 modal/cli/__init__.py
+-rw-r--r--  2.0 unx     3057 b- defN 23-Jul-05 14:57 modal/cli/app.py
+-rw-r--r--  2.0 unx     1373 b- defN 23-Jul-05 14:57 modal/cli/config.py
+-rw-r--r--  2.0 unx     1869 b- defN 23-Jul-05 14:57 modal/cli/entry_point.py
+-rw-r--r--  2.0 unx     3413 b- defN 23-Jul-05 14:57 modal/cli/environment.py
+-rw-r--r--  2.0 unx    10552 b- defN 23-Jul-05 14:57 modal/cli/import_refs.py
+-rw-r--r--  2.0 unx      759 b- defN 23-Jul-05 14:57 modal/cli/profile.py
+-rw-r--r--  2.0 unx     9503 b- defN 23-Jul-05 14:57 modal/cli/run.py
+-rw-r--r--  2.0 unx     4029 b- defN 23-Jul-05 14:57 modal/cli/secret.py
+-rw-r--r--  2.0 unx     3085 b- defN 23-Jul-05 14:57 modal/cli/token.py
+-rw-r--r--  2.0 unx     1889 b- defN 23-Jul-05 14:57 modal/cli/utils.py
+-rw-r--r--  2.0 unx    10210 b- defN 23-Jul-05 14:57 modal/cli/volume.py
+-rw-r--r--  2.0 unx       28 b- defN 23-Jul-05 14:57 modal/extensions/__init__.py
+-rw-r--r--  2.0 unx      987 b- defN 23-Jul-05 14:57 modal/extensions/ipython.py
+-rw-r--r--  2.0 unx     6221 b- defN 23-Jul-05 14:57 modal/extensions/pymc.py
+-rw-r--r--  2.0 unx       28 b- defN 23-Jul-05 14:57 modal_base_images/__init__.py
+-rw-r--r--  2.0 unx      730 b- defN 23-Jul-05 14:57 modal_base_images/client_mount.py
+-rw-r--r--  2.0 unx      324 b- defN 23-Jul-05 14:57 modal_base_images/conda.py
+-rw-r--r--  2.0 unx      330 b- defN 23-Jul-05 14:57 modal_base_images/debian_slim.py
+-rw-r--r--  2.0 unx      329 b- defN 23-Jul-05 14:57 modal_base_images/micromamba.py
+-rw-r--r--  2.0 unx       28 b- defN 23-Jul-05 14:57 modal_proto/__init__.py
+-rw-r--r--  2.0 unx    28852 b- defN 23-Jul-05 14:57 modal_proto/api.proto
+-rw-r--r--  2.0 unx    48299 b- defN 23-Jul-05 14:57 modal_proto/api_grpc.py
+-rw-r--r--  2.0 unx   119312 b- defN 23-Jul-05 14:57 modal_proto/api_pb2.py
+-rw-r--r--  2.0 unx   104399 b- defN 23-Jul-05 14:57 modal_proto/api_pb2_grpc.py
+-rw-r--r--  2.0 unx       28 b- defN 23-Jul-05 14:57 modal_test_support/__init__.py
+-rw-r--r--  2.0 unx      134 b- defN 23-Jul-05 14:57 modal_test_support/assert_package.py
+-rw-r--r--  2.0 unx      171 b- defN 23-Jul-05 14:57 modal_test_support/consumed_map.py
+-rw-r--r--  2.0 unx     3013 b- defN 23-Jul-05 14:57 modal_test_support/functions.py
+-rw-r--r--  2.0 unx      183 b- defN 23-Jul-05 14:57 modal_test_support/hello.py
+-rw-r--r--  2.0 unx      266 b- defN 23-Jul-05 14:57 modal_test_support/image_run_function.py
+-rw-r--r--  2.0 unx      180 b- defN 23-Jul-05 14:57 modal_test_support/is_inside.py
+-rw-r--r--  2.0 unx      187 b- defN 23-Jul-05 14:57 modal_test_support/missing_main_conditional.py
+-rw-r--r--  2.0 unx       59 b- defN 23-Jul-05 14:57 modal_test_support/module_1.py
+-rw-r--r--  2.0 unx       59 b- defN 23-Jul-05 14:57 modal_test_support/module_2.py
+-rw-r--r--  2.0 unx      277 b- defN 23-Jul-05 14:57 modal_test_support/multistub.py
+-rw-r--r--  2.0 unx      228 b- defN 23-Jul-05 14:57 modal_test_support/multistub_is_inside.py
+-rw-r--r--  2.0 unx      222 b- defN 23-Jul-05 14:57 modal_test_support/multistub_is_inside_warning.py
+-rw-r--r--  2.0 unx      269 b- defN 23-Jul-05 14:57 modal_test_support/multistub_privately_decorated.py
+-rw-r--r--  2.0 unx      211 b- defN 23-Jul-05 14:57 modal_test_support/multistub_privately_decorated_named_stub.py
+-rw-r--r--  2.0 unx      218 b- defN 23-Jul-05 14:57 modal_test_support/multistub_same_name.py
+-rw-r--r--  2.0 unx      219 b- defN 23-Jul-05 14:57 modal_test_support/multistub_serialized_func.py
+-rw-r--r--  2.0 unx      197 b- defN 23-Jul-05 14:57 modal_test_support/package_mount.py
+-rw-r--r--  2.0 unx      171 b- defN 23-Jul-05 14:57 modal_test_support/progress_info.py
+-rw-r--r--  2.0 unx      153 b- defN 23-Jul-05 14:57 modal_test_support/script.py
+-rw-r--r--  2.0 unx      178 b- defN 23-Jul-05 14:57 modal_test_support/startup_failure.py
+-rw-r--r--  2.0 unx      177 b- defN 23-Jul-05 14:57 modal_test_support/stub.py
+-rw-r--r--  2.0 unx      144 b- defN 23-Jul-05 14:57 modal_test_support/unconsumed_map.py
+-rw-r--r--  2.0 unx      123 b- defN 23-Jul-05 14:57 modal_test_support/webhook_forgot_function.py
+-rw-r--r--  2.0 unx       28 b- defN 23-Jul-05 14:57 modal_utils/__init__.py
+-rw-r--r--  2.0 unx      465 b- defN 23-Jul-05 14:57 modal_utils/app_utils.py
+-rw-r--r--  2.0 unx    11362 b- defN 23-Jul-05 14:57 modal_utils/async_utils.py
+-rw-r--r--  2.0 unx     6538 b- defN 23-Jul-05 14:57 modal_utils/grpc_testing.py
+-rw-r--r--  2.0 unx     9320 b- defN 23-Jul-05 14:57 modal_utils/grpc_utils.py
+-rw-r--r--  2.0 unx     1597 b- defN 23-Jul-05 14:57 modal_utils/hash_utils.py
+-rw-r--r--  2.0 unx     1426 b- defN 23-Jul-05 14:57 modal_utils/http_utils.py
+-rw-r--r--  2.0 unx      113 b- defN 23-Jul-05 14:57 modal_utils/logger.py
+-rw-r--r--  2.0 unx     1226 b- defN 23-Jul-05 14:57 modal_utils/package_utils.py
+-rw-r--r--  2.0 unx      458 b- defN 23-Jul-05 14:57 modal_version/__init__.py
+-rw-r--r--  2.0 unx       48 b- defN 23-Jul-05 14:57 modal_version/_version_generated.py
+-rw-r--r--  2.0 unx    10173 b- defN 23-Jul-05 14:57 modal_client-0.50.2573.dist-info/LICENSE
+-rw-r--r--  2.0 unx     1923 b- defN 23-Jul-05 14:57 modal_client-0.50.2573.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jul-05 14:57 modal_client-0.50.2573.dist-info/WHEEL
+-rw-r--r--  2.0 unx       46 b- defN 23-Jul-05 14:57 modal_client-0.50.2573.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       93 b- defN 23-Jul-05 14:57 modal_client-0.50.2573.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx    13497 b- defN 23-Jul-05 14:57 modal_client-0.50.2573.dist-info/RECORD
+166 files, 1074871 bytes uncompressed, 248303 bytes compressed:  76.9%
```

## zipnote {}

```diff
@@ -474,26 +474,26 @@
 
 Filename: modal_version/__init__.py
 Comment: 
 
 Filename: modal_version/_version_generated.py
 Comment: 
 
-Filename: modal_client-0.50.2570.dist-info/LICENSE
+Filename: modal_client-0.50.2573.dist-info/LICENSE
 Comment: 
 
-Filename: modal_client-0.50.2570.dist-info/METADATA
+Filename: modal_client-0.50.2573.dist-info/METADATA
 Comment: 
 
-Filename: modal_client-0.50.2570.dist-info/WHEEL
+Filename: modal_client-0.50.2573.dist-info/WHEEL
 Comment: 
 
-Filename: modal_client-0.50.2570.dist-info/entry_points.txt
+Filename: modal_client-0.50.2573.dist-info/entry_points.txt
 Comment: 
 
-Filename: modal_client-0.50.2570.dist-info/top_level.txt
+Filename: modal_client-0.50.2573.dist-info/top_level.txt
 Comment: 
 
-Filename: modal_client-0.50.2570.dist-info/RECORD
+Filename: modal_client-0.50.2573.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## modal/client.pyi

```diff
@@ -11,15 +11,15 @@
 
 
 async def _grpc_exc_string(exc: grpclib.exceptions.GRPCError, method_name: str, server_url: str, timeout: float) -> str:
     ...
 
 
 class _Client:
-    def __init__(self, server_url, client_type, credentials, version='0.50.2570', *, no_verify=False):
+    def __init__(self, server_url, client_type, credentials, version='0.50.2573', *, no_verify=False):
         ...
 
     @property
     def stub(self):
         ...
 
     async def _open(self):
@@ -60,15 +60,15 @@
 
     @classmethod
     def set_env_client(cls, client):
         ...
 
 
 class Client:
-    def __init__(self, server_url, client_type, credentials, version='0.50.2570', *, no_verify=False):
+    def __init__(self, server_url, client_type, credentials, version='0.50.2573', *, no_verify=False):
         ...
 
     @property
     def stub(self):
         ...
 
     class ___open_spec(typing_extensions.Protocol):
```

## modal/cli/app.py

```diff
@@ -3,18 +3,17 @@
 from typing import Optional, List, Union
 
 import typer
 from click import UsageError
 from grpclib import GRPCError, Status
 from rich.text import Text
 
-from modal.cli.environment import ENV_OPTION_HELP
-from modal.environments import ensure_env
 from modal._output import OutputManager, get_app_logs_loop
-from modal.cli.utils import timestamp_to_local, display_table
+from modal.environments import ensure_env
+from modal.cli.utils import timestamp_to_local, display_table, ENV_OPTION
 from modal.client import _Client
 from modal_proto import api_pb2
 from modal_utils.async_utils import synchronizer
 
 app_cli = typer.Typer(name="app", help="Manage deployed and running apps.", no_args_is_help=True)
 
 APP_STATE_TO_MESSAGE = {
@@ -26,17 +25,15 @@
     api_pb2.APP_STATE_STOPPED: Text("stopped", style="blue"),
     api_pb2.APP_STATE_STOPPING: Text("stopping...", style="blue"),
 }
 
 
 @app_cli.command("list")
 @synchronizer.create_blocking
-async def list(
-    env: Optional[str] = typer.Option(default=None, help=ENV_OPTION_HELP, hidden=True), json: Optional[bool] = False
-):
+async def list(env: Optional[str] = ENV_OPTION, json: Optional[bool] = False):
     """List all running or recently running Modal apps for the current account"""
     client = await _Client.from_env()
     env = ensure_env(env)
     res: api_pb2.AppListResponse = await client.stub.AppList(api_pb2.AppListRequest(environment_name=env))
 
     column_names = ["App ID", "Name", "State", "Creation time", "Stop time"]
     rows: List[List[Union[Text, str]]] = []
```

## modal/cli/entry_point.py

```diff
@@ -39,15 +39,15 @@
     version: bool = typer.Option(None, "--version", callback=version_callback),
 ):
     pass
 
 
 entrypoint_cli_typer.add_typer(app_cli)
 entrypoint_cli_typer.add_typer(config_cli)
-entrypoint_cli_typer.add_typer(environment_cli, hidden=True)
+entrypoint_cli_typer.add_typer(environment_cli)
 entrypoint_cli_typer.add_typer(profile_cli)
 entrypoint_cli_typer.add_typer(secret_cli)
 entrypoint_cli_typer.add_typer(token_cli)
 entrypoint_cli_typer.add_typer(volume_cli)
 
 entrypoint_cli_typer.command("deploy", help="Deploy a Modal stub as an application.", no_args_is_help=True)(run.deploy)
 entrypoint_cli_typer.command("serve", no_args_is_help=True)(run.serve)
```

## modal/cli/environment.py

```diff
@@ -17,21 +17,14 @@
 in the same environment.
 
 Typical use cases for environments include having one for development and one for
 production, to prevent overwriting production apps when developing new features
 while still being able to deploy changes to a live environment.
 """
 
-ENV_OPTION_HELP = """Environment to interact with
-
-If none is specified, Modal will use the default environment of your current profile (can also be specified via the environment variable MODAL_ENVIRONMENT).
-If neither is set, Modal will assume there is only one environment in the active workspace and use that one, or raise an error if there are multiple environments.
-"""
-
-
 environment_cli = typer.Typer(name="environment", help=ENVIRONMENT_HELP_TEXT, no_args_is_help=True)
 
 
 class RenderableBool:
     def __init__(self, value: bool):
         self.value = value
 
@@ -80,15 +73,15 @@
     environments.delete_environment(name)
     typer.echo(f"Environment deleted: {name}")
 
 
 ENVIRONMENT_UPDATE_HELP = """Update the name or web suffix of an environment"""
 
 
-@environment_cli.command(name="update", help=ENVIRONMENT_UPDATE_HELP, hidden=True)
+@environment_cli.command(name="update", help=ENVIRONMENT_UPDATE_HELP)
 def update(
     current_name: str,
     set_name: Optional[str] = typer.Option(default=None, help="New name of the environment"),
     set_web_suffix: Optional[str] = typer.Option(
         default=None, help="New web suffix of environment (empty string is no suffix)"
     ),
 ):
```

## modal/cli/run.py

```diff
@@ -14,21 +14,19 @@
 
 from modal.config import config
 from modal.exception import InvalidError
 from modal.runner import run_stub, deploy_stub, interactive_shell
 from modal.serving import serve_stub
 from modal.stub import LocalEntrypoint
 from modal_utils.async_utils import synchronizer
-from .environment import ENV_OPTION_HELP
 from ..environments import ensure_env
-
 from .import_refs import import_function, import_stub
+from .utils import ENV_OPTION, ENV_OPTION_HELP
 from ..functions import _FunctionHandle
 
-
 # Why do we need to support both types and the strings? Because something weird with
 # how __annotations__ works in Python (which inspect.signature uses). See #220.
 option_parsers = {
     str: str,
     "str": str,
     int: int,
     "int": int,
@@ -197,15 +195,15 @@
     ctx.obj["show_progress"] = False if quiet else True
     ctx.obj["env"] = env
 
 
 def deploy(
     stub_ref: str = typer.Argument(..., help="Path to a Python file with a stub."),
     name: str = typer.Option(None, help="Name of the deployment."),
-    env: str = typer.Option(None, help=ENV_OPTION_HELP, hidden=True),
+    env: str = ENV_OPTION,
 ):
     env = ensure_env(
         env
     )  # this ensures that `modal.lookup()` without environment specification uses the same env as specified
 
     _stub = import_stub(stub_ref)
 
@@ -215,15 +213,15 @@
     blocking_stub = synchronizer._translate_out(_stub, interface=Interface.BLOCKING)
     deploy_stub(blocking_stub, name=name, environment_name=env)
 
 
 def serve(
     stub_ref: str = typer.Argument(..., help="Path to a Python file with a stub."),
     timeout: Optional[float] = None,
-    env: str = typer.Option(None, help=ENV_OPTION_HELP, hidden=True),
+    env: str = ENV_OPTION,
 ):
     """Run a web endpoint(s) associated with a Modal stub and hot-reload code.
 
     **Examples:**
 
     ```bash
     modal serve hello_world.py
@@ -243,15 +241,15 @@
 
 
 def shell(
     func_ref: str = typer.Argument(
         ..., help="Path to a Python file with a Stub or Modal function whose container to run.", metavar="FUNC_REF"
     ),
     cmd: str = typer.Option(default="/bin/bash", help="Command to run inside the Modal image."),
-    env: str = typer.Option(None, help=ENV_OPTION_HELP, hidden=True),
+    env: str = ENV_OPTION,
 ):
     """Run an interactive shell inside a Modal image.
 
     **Examples:**
 
     Start a bash shell using the spec for `my_function` in your stub:
```

## modal/cli/secret.py

```diff
@@ -7,30 +7,27 @@
 
 import click
 import typer
 from rich.console import Console
 from rich.syntax import Syntax
 
 import modal
-from modal.cli.environment import ENV_OPTION_HELP
 from modal.environments import ensure_env
-from modal.cli.utils import timestamp_to_local, display_table
+from modal.cli.utils import timestamp_to_local, display_table, ENV_OPTION
 from modal.client import Client, _Client
 from modal_proto import api_pb2
 from modal_utils.async_utils import synchronizer
 from modal_utils.grpc_utils import retry_transient_errors
 
 secret_cli = typer.Typer(name="secret", help="Manage secrets.", no_args_is_help=True)
 
 
 @secret_cli.command("list", help="List your published secrets.")
 @synchronizer.create_blocking
-async def list(
-    env: Optional[str] = typer.Option(None, help=ENV_OPTION_HELP, hidden=True), json: Optional[bool] = False
-):
+async def list(env: Optional[str] = ENV_OPTION, json: Optional[bool] = False):
     env = ensure_env(env)
     client = await _Client.from_env()
     response = await retry_transient_errors(client.stub.SecretList, api_pb2.SecretListRequest(environment_name=env))
     column_names = ["Name", "Created at", "Last used at"]
     rows = []
 
     for item in response.items:
@@ -46,15 +43,15 @@
     display_table(column_names, rows, json, title=f"Secrets{env_part}")
 
 
 @secret_cli.command("create", help="Create a new secret, or overwrite an existing one.")
 def create(
     secret_name,
     keyvalues: List[str] = typer.Argument(..., help="Space-separated KEY=VALUE items"),
-    env: Optional[str] = typer.Option(None, help=ENV_OPTION_HELP, hidden=True),
+    env: Optional[str] = ENV_OPTION,
 ):
     env = ensure_env(env)
     env_dict = {}
     for arg in keyvalues:
         if "=" in arg:
             key, value = arg.split("=")
             if value == "-":
```

## modal/cli/utils.py

```diff
@@ -1,11 +1,12 @@
 # Copyright Modal Labs 2022
 from datetime import datetime
 from typing import Union, List
 
+import typer
 from rich.console import Console
 from rich.table import Table
 from rich.text import Text
 from rich.json import JSON
 
 
 def timestamp_to_local(ts: float) -> str:
@@ -38,7 +39,15 @@
     if json:
         json_data = [{"name": choice, "active": choice == active} for choice in choices]
         console.print(JSON.from_data(json_data))
     else:
         for choice in choices:
             text = Text(f"{choice} [active]", style="green") if active == choice else Text(choice, style="dim")
             console.print(text)
+
+
+ENV_OPTION_HELP = """Environment to interact with
+
+If none is specified, Modal will use the default environment of your current profile (can also be specified via the environment variable MODAL_ENVIRONMENT).
+If neither is set, Modal will assume there is only one environment in the active workspace and use that one, or raise an error if there are multiple environments.
+"""
+ENV_OPTION = typer.Option(default=None, help=ENV_OPTION_HELP)
```

## modal/cli/volume.py

```diff
@@ -17,33 +17,30 @@
 from rich.syntax import Syntax
 from rich.table import Table
 from typer import Typer
 
 import modal
 from modal._location import display_location
 from modal._output import step_progress, step_completed
-from modal.cli.environment import ENV_OPTION_HELP
 from modal.environments import ensure_env
-from modal.cli.utils import display_table
+from modal.cli.utils import display_table, ENV_OPTION
 from modal.client import _Client
 from modal.shared_volume import _SharedVolumeHandle, _SharedVolume
 from modal_proto import api_pb2
 from modal_utils.async_utils import synchronizer
 from modal_utils.grpc_utils import retry_transient_errors
 
 FileType = api_pb2.SharedVolumeListFilesEntry.FileType
 
 volume_cli = Typer(name="volume", help="Read and edit shared volumes.", no_args_is_help=True)
 
 
 @volume_cli.command(name="list", help="List the names of all shared volumes.")
 @synchronizer.create_blocking
-async def list(
-    env: Optional[str] = typer.Option(default=None, help=ENV_OPTION_HELP, hidden=True), json: Optional[bool] = False
-):
+async def list(env: Optional[str] = ENV_OPTION, json: Optional[bool] = False):
     env = ensure_env(env)
 
     client = await _Client.from_env()
     response = await retry_transient_errors(
         client.stub.SharedVolumeList, api_pb2.SharedVolumeListRequest(environment_name=env)
     )
     env_part = f" in environment '{env}'" if env else ""
@@ -69,15 +66,15 @@
 """
 
 
 @volume_cli.command(name="create", help="Create a named shared volume.")
 def create(
     name: str,
     cloud: str = typer.Option("aws", help="Cloud provider to create the volume in. One of aws|gcp."),
-    env: Optional[str] = typer.Option(None, help=ENV_OPTION_HELP, hidden=True),
+    env: Optional[str] = ENV_OPTION,
 ):
     ensure_env(env)
     volume = modal.SharedVolume.new(cloud=cloud)
     volume._deploy(name, environment_name=env)
     console = Console()
     console.print(f"Created volume '{name}' in {cloud.upper()}. \n\nCode example:\n")
     usage = Syntax(gen_usage_code(name), "python")
@@ -94,15 +91,15 @@
 
 
 @volume_cli.command(name="ls", help="List files and directories in a shared volume.")
 @synchronizer.create_blocking
 async def ls(
     volume_name: str,
     path: str = typer.Argument(default="/"),
-    env: Optional[str] = typer.Option(None, help=ENV_OPTION_HELP, hidden=True),
+    env: Optional[str] = ENV_OPTION,
 ):
     ensure_env(env)
     volume = await _volume_from_name(volume_name)
     try:
         entries = await volume.listdir(path)
     except GRPCError as exc:
         if exc.status in (Status.INVALID_ARGUMENT, Status.NOT_FOUND):
@@ -139,15 +136,15 @@
 """,
 )
 @synchronizer.create_blocking
 async def put(
     volume_name: str,
     local_path: str,
     remote_path: str = typer.Argument(default="/"),
-    env: Optional[str] = typer.Option(None, help=ENV_OPTION_HELP, hidden=True),
+    env: Optional[str] = ENV_OPTION,
 ):
     ensure_env(env)
     volume = await _volume_from_name(volume_name)
     if remote_path.endswith("/"):
         remote_path = remote_path + os.path.basename(local_path)
     console = Console()
 
@@ -221,15 +218,15 @@
 @volume_cli.command(name="get")
 @synchronizer.create_blocking
 async def get(
     volume_name: str,
     remote_path: str,
     local_destination: str = typer.Argument("."),
     force: bool = False,
-    env: Optional[str] = typer.Option(None, help=ENV_OPTION_HELP, hidden=True),
+    env: Optional[str] = ENV_OPTION,
 ):
     """Download a file from a shared volume.
 
     Specifying a glob pattern (using any `*` or `**` patterns) as the `remote_path` will download all matching *files*, preserving
     the source directory structure for the matched files.
 
     For example, to download an entire shared volume into `dump_volume`:
@@ -286,15 +283,15 @@
 
 @volume_cli.command(name="rm", help="Delete a file or directory from a shared volume.")
 @synchronizer.create_blocking
 async def rm(
     volume_name: str,
     remote_path: str,
     recursive: bool = typer.Option(False, "-r", "--recursive", help="Delete directory recursively"),
-    env: Optional[str] = typer.Option(None, help=ENV_OPTION_HELP, hidden=True),
+    env: Optional[str] = ENV_OPTION,
 ):
     ensure_env(env)
     volume = await _volume_from_name(volume_name)
     try:
         await volume.remove_file(remote_path, recursive=recursive)
     except GRPCError as exc:
         if exc.status in (Status.NOT_FOUND, Status.INVALID_ARGUMENT):
```

## modal_version/_version_generated.py

```diff
@@ -1,2 +1,2 @@
 # Copyright Modal Labs 2023
-build_number = 2570
+build_number = 2573
```

## Comparing `modal_client-0.50.2570.dist-info/LICENSE` & `modal_client-0.50.2573.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `modal_client-0.50.2570.dist-info/METADATA` & `modal_client-0.50.2573.dist-info/METADATA`

 * *Files 4% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: modal-client
-Version: 0.50.2570
+Version: 0.50.2573
 Summary: Python client library for Modal
 Author: Modal Labs
 Author-email: erik@modal.com
 Project-URL: Homepage, https://modal.com
 Keywords: modal,client,cloud,serverless,infrastructure
 Classifier: Topic :: System :: Distributed Computing
 Classifier: Operating System :: OS Independent
```

## Comparing `modal_client-0.50.2570.dist-info/RECORD` & `modal_client-0.50.2573.dist-info/RECORD`

 * *Files 5% similar despite different names*

```diff
@@ -59,15 +59,15 @@
 modal/_types.py,sha256=vUvweCqAt0S-mni_V_EGc_rDCKgJlU5g0P8r08zl1ko,490
 modal/_watcher.py,sha256=fTCNt2s5P-l91c6Mc9wWGbQe2CCFsPyRMNRe7GqXQ4o,3409
 modal/aio.py,sha256=drzo9s5NE5hpCS_Jv2a1NKdYKt3t25-YjlIunv3rm2M,703
 modal/app.py,sha256=0La3B3rJylLqPfQu4wv67IQ1QH_DDcP9T24ZGd6GAIQ,11467
 modal/app.pyi,sha256=keuw-AukqQQVafYWkBc7c0u1m9ghI2JbsBAToFytbr8,6300
 modal/call_graph.py,sha256=_cCMOMg7IeWNiRXdd-gJbb7pUYw2Ahl-KbXsizM6Lcg,2462
 modal/client.py,sha256=5SP2hnkap1_8ZZ_eu-DmhM3V24FP8X1Ew9XQNxyZ7EM,9162
-modal/client.pyi,sha256=ER0PH---0GMCiuw5AwgjH1_-IDqREvRx67gnjHnvdy0,3429
+modal/client.pyi,sha256=DuLadhs5RvuhX2HifeogB0U8O2ORJRtOyT6k8jafCqw,3429
 modal/cls.py,sha256=O9qHequfOgR2HTwPfLYPK_3v8J4Ir0iByW0_hO0CYiM,1737
 modal/config.py,sha256=PiJtJ0LEdL_QBEUGncbfYhHy8CJlstmH9Xh7n7ZIhFM,7149
 modal/dict.py,sha256=qmxuk9jKtVPq9VVBMAH_so4THWhQE8TcSH93asGbjWo,6638
 modal/dict.pyi,sha256=JD6Me6tco-wMheGaqKsrNLCus92lCmFZf7Ll5U6LsYk,4061
 modal/environments.py,sha256=HfR240OmJxQ-o40_uZuP52EMNqGrovSW_GitoeEUBtI,2189
 modal/environments.pyi,sha256=I0CFWTrnwB_deMBNPxyc8SLnQQ6XpTNpkEOW-PXLz7U,1195
 modal/exception.py,sha256=gxHMYe7CiH1ijgGyiPe-KAxJOVkUquIMPgrOc-QIdSc,2750
@@ -95,25 +95,25 @@
 modal/shared_volume.py,sha256=3bt-vIRtzVDE_xoCAQH1GMAWUADuregsoIJqbAY4CgM,10056
 modal/shared_volume.pyi,sha256=dUoGzpUET7c74BX_SnDZZwtezAGqe1gOII1wnSTJiS8,4287
 modal/stub.py,sha256=jA7Om_hkBQFd2nYWJQ00GuNTwYaSVSVzcsf1MOEUnWY,28991
 modal/stub.pyi,sha256=fL9_N_j2itg-iqDpC7OxVnpqlMd6XTJeEb7DIN7oWII,13692
 modal/volume.py,sha256=9nRnkNhPNjXYl-Z60w93ayaTXZozIyFKtoyH7LERaPM,4993
 modal/volume.pyi,sha256=ZKYdJu86CU9CRefkOokjIMt1yD8Co0wlNxNTK11W11M,1350
 modal/cli/__init__.py,sha256=waLjl5c6IPDhSsdWAm9Bji4e2PVxamYABKAze6CHVXY,28
-modal/cli/app.py,sha256=_eqVxEbgEIzXF0yuhYHfhSY2ocvoEgKM5rAaNPgnCPo,3152
+modal/cli/app.py,sha256=_lITn60tLTlfumDEb_5O9Tv6AYH05VliaxjqRna4RiM,3057
 modal/cli/config.py,sha256=kia7_FF3PejvlTaJRor2i3RwykDcDeaT1o77eGZyKzc,1373
-modal/cli/entry_point.py,sha256=e66sDHtxoEAXfA4s8Giaov7RBSyI7phC639NGCsdMbI,1882
-modal/cli/environment.py,sha256=wIJm3LQW86JsyEgEvAwhsUWZUmdtBU622VJ0l7pQGJk,3803
+modal/cli/entry_point.py,sha256=M3iw5ZdcJm1ZrT8FGB1gsPuVou4zL_UZSyYhAFIsNao,1869
+modal/cli/environment.py,sha256=rKgbmaoO7U8EwJX3ZbZlH8K5ZFNNmmPd9L-jkXnVkp4,3413
 modal/cli/import_refs.py,sha256=lCplWDGnm6gkuZXsfOOgzmQLcfbnoo5Y0-a6Eh-NNOg,10552
 modal/cli/profile.py,sha256=luy_4jtz6P5opvXZbHIVtGXJDaWWOPCLh0v3pxB_xUE,759
-modal/cli/run.py,sha256=H8CRWn70nul-OrEIW8hvZvdCX5cABu8MwPLupeWKIdc,9628
-modal/cli/secret.py,sha256=SMyeHBxcDsojywGTQGZrUdoTcK36_kmqJe6fmz1BCpg,4159
+modal/cli/run.py,sha256=kOpM5YgCULW_PUF8weOGmZgXaC1F9x-Ei0IPwGiLTiE,9503
+modal/cli/secret.py,sha256=UceNiFzWawv13OKqE93pXl1o2M2WImx9YIRK4-4eLlU,4029
 modal/cli/token.py,sha256=skraioUAJCfxzjQkcTfetKI22ToIR0xWEqEarIrZJlg,3085
-modal/cli/utils.py,sha256=Tau-Gp6Sx8f917V7DgihBnn654F3cifA5xpiRI8tsG0,1437
-modal/cli/volume.py,sha256=biGE2R3aUeJuL7TOYbucw_UXwH4LpNp2otn_Np4x5zU,10520
+modal/cli/utils.py,sha256=TQsPc-T1j9ea3Xa09hXCUBVQhY9U5f-Itx6pisiKE08,1889
+modal/cli/volume.py,sha256=fiCfjo2ABr7rSLFcyjJw40w9LDvtr7S-GLOpRBpuHzQ,10210
 modal/extensions/__init__.py,sha256=waLjl5c6IPDhSsdWAm9Bji4e2PVxamYABKAze6CHVXY,28
 modal/extensions/ipython.py,sha256=pOFgBz4jFZtovwE_2qAOFiKwEVb4aZOA3oDbqOX2Gjo,987
 modal/extensions/pymc.py,sha256=tLK-SIa4ZH6pkKmyB3JXfbpYcmn2Xc7Q2KJP9FmsBzE,6221
 modal_base_images/__init__.py,sha256=waLjl5c6IPDhSsdWAm9Bji4e2PVxamYABKAze6CHVXY,28
 modal_base_images/client_mount.py,sha256=wKWxWKLbcGsXap7qxz0IK4h4v9PYXkvhOQxVIBv67X0,730
 modal_base_images/conda.py,sha256=O3Nf6GKzzKyra5XcrCHpN-SMUR3b49a4n1qP6vc3pmM,324
 modal_base_images/debian_slim.py,sha256=9iB8L0tuEDWas3Mge1jyGvfBXiKsJpcjqJT5M1fWRos,330
@@ -153,14 +153,14 @@
 modal_utils/grpc_testing.py,sha256=kdcS5-Y9KQIck9egO1k5c90wcj_JmOTAblYHvXnIfHM,6538
 modal_utils/grpc_utils.py,sha256=nvoS4UwH3t2sH13Nnd9VRrG7FFpCcBbacU6PX8rM_KA,9320
 modal_utils/hash_utils.py,sha256=YOE1LZwyqaTQSZajrF-H_5_iJkjxMclJewC0SgH_8xA,1597
 modal_utils/http_utils.py,sha256=DGKvrSQxAHjP_LNdM6EaL-TIQPGDX5vt3gcMGg2xkz4,1426
 modal_utils/logger.py,sha256=odPE0R8_9GkufC_74wqolLikZVIbdxmwDF5xeoILklU,113
 modal_utils/package_utils.py,sha256=TLF7GygWqsqZpL-dVnchts55IcTwkMPFLBGeZjuRXCw,1226
 modal_version/__init__.py,sha256=4HAjuKbNhfE463OlLVk6aZlZ7bPvEm90fXDuz6wyxRs,458
-modal_version/_version_generated.py,sha256=6p9fKqfZoqGg9scObRsGXUbYwvlJEOIv7ISqAL5u4AU,48
-modal_client-0.50.2570.dist-info/LICENSE,sha256=psuoW8kuDP96RQsdhzwOqi6fyWv0ct8CR6Jr7He_P_k,10173
-modal_client-0.50.2570.dist-info/METADATA,sha256=wkUjbmkiPUjv_a7-5ia33i4WCmmhxxdh-hb8ZP6cNdY,1923
-modal_client-0.50.2570.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-modal_client-0.50.2570.dist-info/entry_points.txt,sha256=An-wYgeEUnm6xzrAP9_NTSTSciYvvEWsMZILtYrvpAI,46
-modal_client-0.50.2570.dist-info/top_level.txt,sha256=vTBZ60jGY6Z2jEeHlo3uEJRmrR3M1rZoXur0ZaqOrS4,93
-modal_client-0.50.2570.dist-info/RECORD,,
+modal_version/_version_generated.py,sha256=g8etjKuB5BLITjWgUnQmI7i7Q3CcKLX7ePfekyJYIkU,48
+modal_client-0.50.2573.dist-info/LICENSE,sha256=psuoW8kuDP96RQsdhzwOqi6fyWv0ct8CR6Jr7He_P_k,10173
+modal_client-0.50.2573.dist-info/METADATA,sha256=uFc17tryCdvR_USDkaKmXRTmvz51jschsUPAqfM4k5s,1923
+modal_client-0.50.2573.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
+modal_client-0.50.2573.dist-info/entry_points.txt,sha256=An-wYgeEUnm6xzrAP9_NTSTSciYvvEWsMZILtYrvpAI,46
+modal_client-0.50.2573.dist-info/top_level.txt,sha256=vTBZ60jGY6Z2jEeHlo3uEJRmrR3M1rZoXur0ZaqOrS4,93
+modal_client-0.50.2573.dist-info/RECORD,,
```

