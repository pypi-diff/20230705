# Comparing `tmp/modal_client-0.50.2581-py3-none-any.whl.zip` & `tmp/modal_client-0.50.2586-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,168 +1,169 @@
-Zip file size: 269573 bytes, number of entries: 166
--rw-r--r--  2.0 unx       28 b- defN 23-Jul-05 16:11 client_test/__init__.py
--rw-r--r--  2.0 unx      392 b- defN 23-Jul-05 16:11 client_test/aio_test.py
--rw-r--r--  2.0 unx     5409 b- defN 23-Jul-05 16:11 client_test/async_utils_test.py
--rw-r--r--  2.0 unx     1474 b- defN 23-Jul-05 16:11 client_test/blob_test.py
--rw-r--r--  2.0 unx     3979 b- defN 23-Jul-05 16:11 client_test/cli_imports_test.py
--rw-r--r--  2.0 unx    16686 b- defN 23-Jul-05 16:11 client_test/cli_test.py
--rw-r--r--  2.0 unx     4768 b- defN 23-Jul-05 16:11 client_test/client_test.py
--rw-r--r--  2.0 unx     4422 b- defN 23-Jul-05 16:11 client_test/cls_test.py
--rw-r--r--  2.0 unx     2622 b- defN 23-Jul-05 16:11 client_test/config_test.py
--rw-r--r--  2.0 unx    32707 b- defN 23-Jul-05 16:11 client_test/conftest.py
--rw-r--r--  2.0 unx     4555 b- defN 23-Jul-05 16:11 client_test/container_app_test.py
--rw-r--r--  2.0 unx    24810 b- defN 23-Jul-05 16:11 client_test/container_test.py
--rw-r--r--  2.0 unx      405 b- defN 23-Jul-05 16:11 client_test/cpu_test.py
--rw-r--r--  2.0 unx     1086 b- defN 23-Jul-05 16:11 client_test/deprecation_test.py
--rw-r--r--  2.0 unx     2182 b- defN 23-Jul-05 16:11 client_test/e2e_test.py
--rw-r--r--  2.0 unx      165 b- defN 23-Jul-05 16:11 client_test/error_test.py
--rw-r--r--  2.0 unx      964 b- defN 23-Jul-05 16:11 client_test/function_serialization_test.py
--rw-r--r--  2.0 unx    16973 b- defN 23-Jul-05 16:11 client_test/function_test.py
--rw-r--r--  2.0 unx     3924 b- defN 23-Jul-05 16:11 client_test/gpu_test.py
--rw-r--r--  2.0 unx     5047 b- defN 23-Jul-05 16:11 client_test/grpc_utils_test.py
--rw-r--r--  2.0 unx      930 b- defN 23-Jul-05 16:11 client_test/helpers.py
--rw-r--r--  2.0 unx    15884 b- defN 23-Jul-05 16:11 client_test/image_test.py
--rw-r--r--  2.0 unx     2356 b- defN 23-Jul-05 16:11 client_test/live_reload_test.py
--rw-r--r--  2.0 unx     2619 b- defN 23-Jul-05 16:11 client_test/lookup_test.py
--rw-r--r--  2.0 unx     5317 b- defN 23-Jul-05 16:11 client_test/mount_test.py
--rw-r--r--  2.0 unx     6239 b- defN 23-Jul-05 16:11 client_test/mounted_files_test.py
--rw-r--r--  2.0 unx     2157 b- defN 23-Jul-05 16:11 client_test/notebook_test.py
--rw-r--r--  2.0 unx     1394 b- defN 23-Jul-05 16:11 client_test/object_test.py
--rw-r--r--  2.0 unx      413 b- defN 23-Jul-05 16:11 client_test/package_utils_test.py
--rw-r--r--  2.0 unx     1560 b- defN 23-Jul-05 16:11 client_test/resolver_test.py
--rw-r--r--  2.0 unx     1807 b- defN 23-Jul-05 16:11 client_test/retries_test.py
--rw-r--r--  2.0 unx     2428 b- defN 23-Jul-05 16:11 client_test/runner_test.py
--rw-r--r--  2.0 unx      359 b- defN 23-Jul-05 16:11 client_test/schedule_test.py
--rw-r--r--  2.0 unx     1185 b- defN 23-Jul-05 16:11 client_test/secret_test.py
--rw-r--r--  2.0 unx     1086 b- defN 23-Jul-05 16:11 client_test/serialization_test.py
--rw-r--r--  2.0 unx     4184 b- defN 23-Jul-05 16:11 client_test/shared_volume_test.py
--rw-r--r--  2.0 unx     8092 b- defN 23-Jul-05 16:11 client_test/stub_test.py
--rw-r--r--  2.0 unx     2691 b- defN 23-Jul-05 16:11 client_test/utils_test.py
--rw-r--r--  2.0 unx      410 b- defN 23-Jul-05 16:11 client_test/version_test.py
--rw-r--r--  2.0 unx     2172 b- defN 23-Jul-05 16:11 client_test/volume_test.py
--rw-r--r--  2.0 unx     1160 b- defN 23-Jul-05 16:11 client_test/watcher_test.py
--rw-r--r--  2.0 unx     4014 b- defN 23-Jul-05 16:11 client_test/webhook_test.py
--rw-r--r--  2.0 unx     1083 b- defN 23-Jul-05 16:11 modal/__init__.py
--rw-r--r--  2.0 unx      157 b- defN 23-Jul-05 16:11 modal/__main__.py
--rw-r--r--  2.0 unx     2135 b- defN 23-Jul-05 16:11 modal/_asgi.py
--rw-r--r--  2.0 unx    13413 b- defN 23-Jul-05 16:11 modal/_blob_utils.py
--rw-r--r--  2.0 unx    26319 b- defN 23-Jul-05 16:11 modal/_container_entrypoint.py
--rw-r--r--  2.0 unx    10990 b- defN 23-Jul-05 16:11 modal/_function_utils.py
--rw-r--r--  2.0 unx      450 b- defN 23-Jul-05 16:11 modal/_ipython.py
--rw-r--r--  2.0 unx      929 b- defN 23-Jul-05 16:11 modal/_location.py
--rw-r--r--  2.0 unx      850 b- defN 23-Jul-05 16:11 modal/_object_meta.py
--rw-r--r--  2.0 unx    17381 b- defN 23-Jul-05 16:11 modal/_output.py
--rw-r--r--  2.0 unx     1785 b- defN 23-Jul-05 16:11 modal/_proxy_tunnel.py
--rw-r--r--  2.0 unx     5043 b- defN 23-Jul-05 16:11 modal/_pty.py
--rw-r--r--  2.0 unx     5538 b- defN 23-Jul-05 16:11 modal/_resolver.py
--rw-r--r--  2.0 unx     1863 b- defN 23-Jul-05 16:11 modal/_serialization.py
--rw-r--r--  2.0 unx     7598 b- defN 23-Jul-05 16:11 modal/_traceback.py
--rw-r--r--  2.0 unx     1995 b- defN 23-Jul-05 16:11 modal/_tracing.py
--rw-r--r--  2.0 unx      490 b- defN 23-Jul-05 16:11 modal/_types.py
--rw-r--r--  2.0 unx     3409 b- defN 23-Jul-05 16:11 modal/_watcher.py
--rw-r--r--  2.0 unx      703 b- defN 23-Jul-05 16:11 modal/aio.py
--rw-r--r--  2.0 unx    11467 b- defN 23-Jul-05 16:11 modal/app.py
--rw-r--r--  2.0 unx     6300 b- defN 23-Jul-05 16:12 modal/app.pyi
--rw-r--r--  2.0 unx     2462 b- defN 23-Jul-05 16:11 modal/call_graph.py
--rw-r--r--  2.0 unx     9162 b- defN 23-Jul-05 16:11 modal/client.py
--rw-r--r--  2.0 unx     3429 b- defN 23-Jul-05 16:12 modal/client.pyi
--rw-r--r--  2.0 unx     1737 b- defN 23-Jul-05 16:11 modal/cls.py
--rw-r--r--  2.0 unx     7149 b- defN 23-Jul-05 16:11 modal/config.py
--rw-r--r--  2.0 unx     6638 b- defN 23-Jul-05 16:11 modal/dict.py
--rw-r--r--  2.0 unx     4061 b- defN 23-Jul-05 16:12 modal/dict.pyi
--rw-r--r--  2.0 unx     2189 b- defN 23-Jul-05 16:11 modal/environments.py
--rw-r--r--  2.0 unx     1195 b- defN 23-Jul-05 16:12 modal/environments.pyi
--rw-r--r--  2.0 unx     2750 b- defN 23-Jul-05 16:11 modal/exception.py
--rw-r--r--  2.0 unx    60540 b- defN 23-Jul-05 16:11 modal/functions.py
--rw-r--r--  2.0 unx    17573 b- defN 23-Jul-05 16:12 modal/functions.pyi
--rw-r--r--  2.0 unx     4995 b- defN 23-Jul-05 16:11 modal/gpu.py
--rw-r--r--  2.0 unx    48532 b- defN 23-Jul-05 16:11 modal/image.py
--rw-r--r--  2.0 unx    14761 b- defN 23-Jul-05 16:12 modal/image.pyi
--rw-r--r--  2.0 unx    15044 b- defN 23-Jul-05 16:11 modal/mount.py
--rw-r--r--  2.0 unx     5711 b- defN 23-Jul-05 16:12 modal/mount.pyi
--rw-r--r--  2.0 unx    13027 b- defN 23-Jul-05 16:11 modal/object.py
--rw-r--r--  2.0 unx     7948 b- defN 23-Jul-05 16:12 modal/object.pyi
--rw-r--r--  2.0 unx      623 b- defN 23-Jul-05 16:11 modal/proxy.py
--rw-r--r--  2.0 unx      312 b- defN 23-Jul-05 16:12 modal/proxy.pyi
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-05 16:11 modal/py.typed
--rw-r--r--  2.0 unx     5686 b- defN 23-Jul-05 16:11 modal/queue.py
--rw-r--r--  2.0 unx     3062 b- defN 23-Jul-05 16:12 modal/queue.pyi
--rw-r--r--  2.0 unx      502 b- defN 23-Jul-05 16:11 modal/requirements.txt
--rw-r--r--  2.0 unx     3730 b- defN 23-Jul-05 16:11 modal/retries.py
--rw-r--r--  2.0 unx     9446 b- defN 23-Jul-05 16:11 modal/runner.py
--rw-r--r--  2.0 unx     2619 b- defN 23-Jul-05 16:11 modal/schedule.py
--rw-r--r--  2.0 unx     5078 b- defN 23-Jul-05 16:11 modal/secret.py
--rw-r--r--  2.0 unx      765 b- defN 23-Jul-05 16:12 modal/secret.pyi
--rw-r--r--  2.0 unx     4717 b- defN 23-Jul-05 16:11 modal/serving.py
--rw-r--r--  2.0 unx    10056 b- defN 23-Jul-05 16:11 modal/shared_volume.py
--rw-r--r--  2.0 unx     4287 b- defN 23-Jul-05 16:12 modal/shared_volume.pyi
--rw-r--r--  2.0 unx    28991 b- defN 23-Jul-05 16:11 modal/stub.py
--rw-r--r--  2.0 unx    13692 b- defN 23-Jul-05 16:12 modal/stub.pyi
--rw-r--r--  2.0 unx     5837 b- defN 23-Jul-05 16:11 modal/volume.py
--rw-r--r--  2.0 unx     1635 b- defN 23-Jul-05 16:12 modal/volume.pyi
--rw-r--r--  2.0 unx       28 b- defN 23-Jul-05 16:11 modal/cli/__init__.py
--rw-r--r--  2.0 unx     3057 b- defN 23-Jul-05 16:11 modal/cli/app.py
--rw-r--r--  2.0 unx     1373 b- defN 23-Jul-05 16:11 modal/cli/config.py
--rw-r--r--  2.0 unx     1869 b- defN 23-Jul-05 16:11 modal/cli/entry_point.py
--rw-r--r--  2.0 unx     3413 b- defN 23-Jul-05 16:11 modal/cli/environment.py
--rw-r--r--  2.0 unx    10552 b- defN 23-Jul-05 16:11 modal/cli/import_refs.py
--rw-r--r--  2.0 unx      759 b- defN 23-Jul-05 16:11 modal/cli/profile.py
--rw-r--r--  2.0 unx     9503 b- defN 23-Jul-05 16:11 modal/cli/run.py
--rw-r--r--  2.0 unx     4029 b- defN 23-Jul-05 16:11 modal/cli/secret.py
--rw-r--r--  2.0 unx     3085 b- defN 23-Jul-05 16:11 modal/cli/token.py
--rw-r--r--  2.0 unx     1889 b- defN 23-Jul-05 16:11 modal/cli/utils.py
--rw-r--r--  2.0 unx    10210 b- defN 23-Jul-05 16:11 modal/cli/volume.py
--rw-r--r--  2.0 unx       28 b- defN 23-Jul-05 16:11 modal/extensions/__init__.py
--rw-r--r--  2.0 unx      987 b- defN 23-Jul-05 16:11 modal/extensions/ipython.py
--rw-r--r--  2.0 unx     6221 b- defN 23-Jul-05 16:11 modal/extensions/pymc.py
--rw-r--r--  2.0 unx       28 b- defN 23-Jul-05 16:11 modal_base_images/__init__.py
--rw-r--r--  2.0 unx      730 b- defN 23-Jul-05 16:11 modal_base_images/client_mount.py
--rw-r--r--  2.0 unx      324 b- defN 23-Jul-05 16:11 modal_base_images/conda.py
--rw-r--r--  2.0 unx      330 b- defN 23-Jul-05 16:11 modal_base_images/debian_slim.py
--rw-r--r--  2.0 unx      329 b- defN 23-Jul-05 16:11 modal_base_images/micromamba.py
--rw-r--r--  2.0 unx       28 b- defN 23-Jul-05 16:11 modal_proto/__init__.py
--rw-r--r--  2.0 unx    28852 b- defN 23-Jul-05 16:11 modal_proto/api.proto
--rw-r--r--  2.0 unx    48299 b- defN 23-Jul-05 16:12 modal_proto/api_grpc.py
--rw-r--r--  2.0 unx   119312 b- defN 23-Jul-05 16:12 modal_proto/api_pb2.py
--rw-r--r--  2.0 unx   104399 b- defN 23-Jul-05 16:12 modal_proto/api_pb2_grpc.py
--rw-r--r--  2.0 unx       28 b- defN 23-Jul-05 16:11 modal_test_support/__init__.py
--rw-r--r--  2.0 unx      134 b- defN 23-Jul-05 16:11 modal_test_support/assert_package.py
--rw-r--r--  2.0 unx      171 b- defN 23-Jul-05 16:11 modal_test_support/consumed_map.py
--rw-r--r--  2.0 unx     3013 b- defN 23-Jul-05 16:11 modal_test_support/functions.py
--rw-r--r--  2.0 unx      183 b- defN 23-Jul-05 16:11 modal_test_support/hello.py
--rw-r--r--  2.0 unx      266 b- defN 23-Jul-05 16:11 modal_test_support/image_run_function.py
--rw-r--r--  2.0 unx      180 b- defN 23-Jul-05 16:11 modal_test_support/is_inside.py
--rw-r--r--  2.0 unx      187 b- defN 23-Jul-05 16:11 modal_test_support/missing_main_conditional.py
--rw-r--r--  2.0 unx       59 b- defN 23-Jul-05 16:11 modal_test_support/module_1.py
--rw-r--r--  2.0 unx       59 b- defN 23-Jul-05 16:11 modal_test_support/module_2.py
--rw-r--r--  2.0 unx      277 b- defN 23-Jul-05 16:11 modal_test_support/multistub.py
--rw-r--r--  2.0 unx      228 b- defN 23-Jul-05 16:11 modal_test_support/multistub_is_inside.py
--rw-r--r--  2.0 unx      222 b- defN 23-Jul-05 16:11 modal_test_support/multistub_is_inside_warning.py
--rw-r--r--  2.0 unx      269 b- defN 23-Jul-05 16:11 modal_test_support/multistub_privately_decorated.py
--rw-r--r--  2.0 unx      211 b- defN 23-Jul-05 16:11 modal_test_support/multistub_privately_decorated_named_stub.py
--rw-r--r--  2.0 unx      218 b- defN 23-Jul-05 16:11 modal_test_support/multistub_same_name.py
--rw-r--r--  2.0 unx      219 b- defN 23-Jul-05 16:11 modal_test_support/multistub_serialized_func.py
--rw-r--r--  2.0 unx      197 b- defN 23-Jul-05 16:11 modal_test_support/package_mount.py
--rw-r--r--  2.0 unx      171 b- defN 23-Jul-05 16:11 modal_test_support/progress_info.py
--rw-r--r--  2.0 unx      153 b- defN 23-Jul-05 16:11 modal_test_support/script.py
--rw-r--r--  2.0 unx      178 b- defN 23-Jul-05 16:11 modal_test_support/startup_failure.py
--rw-r--r--  2.0 unx      177 b- defN 23-Jul-05 16:11 modal_test_support/stub.py
--rw-r--r--  2.0 unx      144 b- defN 23-Jul-05 16:11 modal_test_support/unconsumed_map.py
--rw-r--r--  2.0 unx      123 b- defN 23-Jul-05 16:11 modal_test_support/webhook_forgot_function.py
--rw-r--r--  2.0 unx       28 b- defN 23-Jul-05 16:11 modal_utils/__init__.py
--rw-r--r--  2.0 unx      465 b- defN 23-Jul-05 16:11 modal_utils/app_utils.py
--rw-r--r--  2.0 unx    11362 b- defN 23-Jul-05 16:11 modal_utils/async_utils.py
--rw-r--r--  2.0 unx     6538 b- defN 23-Jul-05 16:11 modal_utils/grpc_testing.py
--rw-r--r--  2.0 unx     9320 b- defN 23-Jul-05 16:11 modal_utils/grpc_utils.py
--rw-r--r--  2.0 unx     1597 b- defN 23-Jul-05 16:11 modal_utils/hash_utils.py
--rw-r--r--  2.0 unx     1426 b- defN 23-Jul-05 16:11 modal_utils/http_utils.py
--rw-r--r--  2.0 unx      113 b- defN 23-Jul-05 16:11 modal_utils/logger.py
--rw-r--r--  2.0 unx     1226 b- defN 23-Jul-05 16:11 modal_utils/package_utils.py
--rw-r--r--  2.0 unx      458 b- defN 23-Jul-05 16:11 modal_version/__init__.py
--rw-r--r--  2.0 unx       48 b- defN 23-Jul-05 16:12 modal_version/_version_generated.py
--rw-r--r--  2.0 unx    10173 b- defN 23-Jul-05 16:12 modal_client-0.50.2581.dist-info/LICENSE
--rw-r--r--  2.0 unx     1923 b- defN 23-Jul-05 16:12 modal_client-0.50.2581.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jul-05 16:12 modal_client-0.50.2581.dist-info/WHEEL
--rw-r--r--  2.0 unx       46 b- defN 23-Jul-05 16:12 modal_client-0.50.2581.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       93 b- defN 23-Jul-05 16:12 modal_client-0.50.2581.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx    13497 b- defN 23-Jul-05 16:12 modal_client-0.50.2581.dist-info/RECORD
-166 files, 1076000 bytes uncompressed, 248663 bytes compressed:  76.9%
+Zip file size: 270917 bytes, number of entries: 167
+-rw-r--r--  2.0 unx       28 b- defN 23-Jul-05 18:02 client_test/__init__.py
+-rw-r--r--  2.0 unx      392 b- defN 23-Jul-05 18:02 client_test/aio_test.py
+-rw-r--r--  2.0 unx     5409 b- defN 23-Jul-05 18:02 client_test/async_utils_test.py
+-rw-r--r--  2.0 unx     1474 b- defN 23-Jul-05 18:02 client_test/blob_test.py
+-rw-r--r--  2.0 unx     3979 b- defN 23-Jul-05 18:02 client_test/cli_imports_test.py
+-rw-r--r--  2.0 unx    16841 b- defN 23-Jul-05 18:02 client_test/cli_test.py
+-rw-r--r--  2.0 unx     4768 b- defN 23-Jul-05 18:02 client_test/client_test.py
+-rw-r--r--  2.0 unx     4422 b- defN 23-Jul-05 18:02 client_test/cls_test.py
+-rw-r--r--  2.0 unx     2622 b- defN 23-Jul-05 18:02 client_test/config_test.py
+-rw-r--r--  2.0 unx    32707 b- defN 23-Jul-05 18:02 client_test/conftest.py
+-rw-r--r--  2.0 unx     4555 b- defN 23-Jul-05 18:02 client_test/container_app_test.py
+-rw-r--r--  2.0 unx    24810 b- defN 23-Jul-05 18:02 client_test/container_test.py
+-rw-r--r--  2.0 unx      405 b- defN 23-Jul-05 18:02 client_test/cpu_test.py
+-rw-r--r--  2.0 unx     1086 b- defN 23-Jul-05 18:02 client_test/deprecation_test.py
+-rw-r--r--  2.0 unx     2182 b- defN 23-Jul-05 18:02 client_test/e2e_test.py
+-rw-r--r--  2.0 unx      165 b- defN 23-Jul-05 18:02 client_test/error_test.py
+-rw-r--r--  2.0 unx      964 b- defN 23-Jul-05 18:02 client_test/function_serialization_test.py
+-rw-r--r--  2.0 unx    17347 b- defN 23-Jul-05 18:02 client_test/function_test.py
+-rw-r--r--  2.0 unx     3924 b- defN 23-Jul-05 18:02 client_test/gpu_test.py
+-rw-r--r--  2.0 unx     5047 b- defN 23-Jul-05 18:02 client_test/grpc_utils_test.py
+-rw-r--r--  2.0 unx      930 b- defN 23-Jul-05 18:02 client_test/helpers.py
+-rw-r--r--  2.0 unx    15905 b- defN 23-Jul-05 18:02 client_test/image_test.py
+-rw-r--r--  2.0 unx     2356 b- defN 23-Jul-05 18:02 client_test/live_reload_test.py
+-rw-r--r--  2.0 unx     2619 b- defN 23-Jul-05 18:02 client_test/lookup_test.py
+-rw-r--r--  2.0 unx     5317 b- defN 23-Jul-05 18:02 client_test/mount_test.py
+-rw-r--r--  2.0 unx     6239 b- defN 23-Jul-05 18:02 client_test/mounted_files_test.py
+-rw-r--r--  2.0 unx     4563 b- defN 23-Jul-05 18:02 client_test/network_file_system_test.py
+-rw-r--r--  2.0 unx     2157 b- defN 23-Jul-05 18:02 client_test/notebook_test.py
+-rw-r--r--  2.0 unx     1394 b- defN 23-Jul-05 18:02 client_test/object_test.py
+-rw-r--r--  2.0 unx      413 b- defN 23-Jul-05 18:02 client_test/package_utils_test.py
+-rw-r--r--  2.0 unx     1560 b- defN 23-Jul-05 18:02 client_test/resolver_test.py
+-rw-r--r--  2.0 unx     1807 b- defN 23-Jul-05 18:02 client_test/retries_test.py
+-rw-r--r--  2.0 unx     2428 b- defN 23-Jul-05 18:02 client_test/runner_test.py
+-rw-r--r--  2.0 unx      359 b- defN 23-Jul-05 18:02 client_test/schedule_test.py
+-rw-r--r--  2.0 unx     1185 b- defN 23-Jul-05 18:02 client_test/secret_test.py
+-rw-r--r--  2.0 unx     1086 b- defN 23-Jul-05 18:02 client_test/serialization_test.py
+-rw-r--r--  2.0 unx     8092 b- defN 23-Jul-05 18:02 client_test/stub_test.py
+-rw-r--r--  2.0 unx     2691 b- defN 23-Jul-05 18:02 client_test/utils_test.py
+-rw-r--r--  2.0 unx      410 b- defN 23-Jul-05 18:02 client_test/version_test.py
+-rw-r--r--  2.0 unx     2172 b- defN 23-Jul-05 18:02 client_test/volume_test.py
+-rw-r--r--  2.0 unx     1160 b- defN 23-Jul-05 18:02 client_test/watcher_test.py
+-rw-r--r--  2.0 unx     4014 b- defN 23-Jul-05 18:02 client_test/webhook_test.py
+-rw-r--r--  2.0 unx     1159 b- defN 23-Jul-05 18:02 modal/__init__.py
+-rw-r--r--  2.0 unx      157 b- defN 23-Jul-05 18:02 modal/__main__.py
+-rw-r--r--  2.0 unx     2135 b- defN 23-Jul-05 18:02 modal/_asgi.py
+-rw-r--r--  2.0 unx    13413 b- defN 23-Jul-05 18:02 modal/_blob_utils.py
+-rw-r--r--  2.0 unx    26319 b- defN 23-Jul-05 18:02 modal/_container_entrypoint.py
+-rw-r--r--  2.0 unx    10990 b- defN 23-Jul-05 18:02 modal/_function_utils.py
+-rw-r--r--  2.0 unx      450 b- defN 23-Jul-05 18:02 modal/_ipython.py
+-rw-r--r--  2.0 unx      929 b- defN 23-Jul-05 18:02 modal/_location.py
+-rw-r--r--  2.0 unx      850 b- defN 23-Jul-05 18:02 modal/_object_meta.py
+-rw-r--r--  2.0 unx    17381 b- defN 23-Jul-05 18:02 modal/_output.py
+-rw-r--r--  2.0 unx     1785 b- defN 23-Jul-05 18:02 modal/_proxy_tunnel.py
+-rw-r--r--  2.0 unx     5043 b- defN 23-Jul-05 18:02 modal/_pty.py
+-rw-r--r--  2.0 unx     5538 b- defN 23-Jul-05 18:02 modal/_resolver.py
+-rw-r--r--  2.0 unx     1863 b- defN 23-Jul-05 18:02 modal/_serialization.py
+-rw-r--r--  2.0 unx     7598 b- defN 23-Jul-05 18:02 modal/_traceback.py
+-rw-r--r--  2.0 unx     1995 b- defN 23-Jul-05 18:02 modal/_tracing.py
+-rw-r--r--  2.0 unx      490 b- defN 23-Jul-05 18:02 modal/_types.py
+-rw-r--r--  2.0 unx     3409 b- defN 23-Jul-05 18:02 modal/_watcher.py
+-rw-r--r--  2.0 unx      703 b- defN 23-Jul-05 18:02 modal/aio.py
+-rw-r--r--  2.0 unx    11467 b- defN 23-Jul-05 18:02 modal/app.py
+-rw-r--r--  2.0 unx     6300 b- defN 23-Jul-05 18:02 modal/app.pyi
+-rw-r--r--  2.0 unx     2462 b- defN 23-Jul-05 18:02 modal/call_graph.py
+-rw-r--r--  2.0 unx     9162 b- defN 23-Jul-05 18:02 modal/client.py
+-rw-r--r--  2.0 unx     3429 b- defN 23-Jul-05 18:02 modal/client.pyi
+-rw-r--r--  2.0 unx     1737 b- defN 23-Jul-05 18:02 modal/cls.py
+-rw-r--r--  2.0 unx     7149 b- defN 23-Jul-05 18:02 modal/config.py
+-rw-r--r--  2.0 unx     6638 b- defN 23-Jul-05 18:02 modal/dict.py
+-rw-r--r--  2.0 unx     4061 b- defN 23-Jul-05 18:02 modal/dict.pyi
+-rw-r--r--  2.0 unx     2189 b- defN 23-Jul-05 18:02 modal/environments.py
+-rw-r--r--  2.0 unx     1195 b- defN 23-Jul-05 18:02 modal/environments.pyi
+-rw-r--r--  2.0 unx     2750 b- defN 23-Jul-05 18:02 modal/exception.py
+-rw-r--r--  2.0 unx    60734 b- defN 23-Jul-05 18:02 modal/functions.py
+-rw-r--r--  2.0 unx    17647 b- defN 23-Jul-05 18:02 modal/functions.pyi
+-rw-r--r--  2.0 unx     4995 b- defN 23-Jul-05 18:02 modal/gpu.py
+-rw-r--r--  2.0 unx    48968 b- defN 23-Jul-05 18:02 modal/image.py
+-rw-r--r--  2.0 unx    15024 b- defN 23-Jul-05 18:02 modal/image.pyi
+-rw-r--r--  2.0 unx    15044 b- defN 23-Jul-05 18:02 modal/mount.py
+-rw-r--r--  2.0 unx     5711 b- defN 23-Jul-05 18:02 modal/mount.pyi
+-rw-r--r--  2.0 unx     9913 b- defN 23-Jul-05 18:02 modal/network_file_system.py
+-rw-r--r--  2.0 unx     4216 b- defN 23-Jul-05 18:02 modal/network_file_system.pyi
+-rw-r--r--  2.0 unx    13027 b- defN 23-Jul-05 18:02 modal/object.py
+-rw-r--r--  2.0 unx     7948 b- defN 23-Jul-05 18:02 modal/object.pyi
+-rw-r--r--  2.0 unx      623 b- defN 23-Jul-05 18:02 modal/proxy.py
+-rw-r--r--  2.0 unx      312 b- defN 23-Jul-05 18:02 modal/proxy.pyi
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-05 18:02 modal/py.typed
+-rw-r--r--  2.0 unx     5686 b- defN 23-Jul-05 18:02 modal/queue.py
+-rw-r--r--  2.0 unx     3062 b- defN 23-Jul-05 18:02 modal/queue.pyi
+-rw-r--r--  2.0 unx      502 b- defN 23-Jul-05 18:02 modal/requirements.txt
+-rw-r--r--  2.0 unx     3730 b- defN 23-Jul-05 18:02 modal/retries.py
+-rw-r--r--  2.0 unx     9458 b- defN 23-Jul-05 18:02 modal/runner.py
+-rw-r--r--  2.0 unx     2619 b- defN 23-Jul-05 18:02 modal/schedule.py
+-rw-r--r--  2.0 unx     5078 b- defN 23-Jul-05 18:02 modal/secret.py
+-rw-r--r--  2.0 unx      765 b- defN 23-Jul-05 18:02 modal/secret.pyi
+-rw-r--r--  2.0 unx     4717 b- defN 23-Jul-05 18:02 modal/serving.py
+-rw-r--r--  2.0 unx     1284 b- defN 23-Jul-05 18:02 modal/shared_volume.py
+-rw-r--r--  2.0 unx    29745 b- defN 23-Jul-05 18:02 modal/stub.py
+-rw-r--r--  2.0 unx    14212 b- defN 23-Jul-05 18:02 modal/stub.pyi
+-rw-r--r--  2.0 unx     5837 b- defN 23-Jul-05 18:02 modal/volume.py
+-rw-r--r--  2.0 unx     1635 b- defN 23-Jul-05 18:02 modal/volume.pyi
+-rw-r--r--  2.0 unx       28 b- defN 23-Jul-05 18:02 modal/cli/__init__.py
+-rw-r--r--  2.0 unx     3057 b- defN 23-Jul-05 18:02 modal/cli/app.py
+-rw-r--r--  2.0 unx     1373 b- defN 23-Jul-05 18:02 modal/cli/config.py
+-rw-r--r--  2.0 unx     1925 b- defN 23-Jul-05 18:02 modal/cli/entry_point.py
+-rw-r--r--  2.0 unx     3413 b- defN 23-Jul-05 18:02 modal/cli/environment.py
+-rw-r--r--  2.0 unx    10552 b- defN 23-Jul-05 18:02 modal/cli/import_refs.py
+-rw-r--r--  2.0 unx    10884 b- defN 23-Jul-05 18:02 modal/cli/network_file_system.py
+-rw-r--r--  2.0 unx      759 b- defN 23-Jul-05 18:02 modal/cli/profile.py
+-rw-r--r--  2.0 unx     9503 b- defN 23-Jul-05 18:02 modal/cli/run.py
+-rw-r--r--  2.0 unx     4029 b- defN 23-Jul-05 18:02 modal/cli/secret.py
+-rw-r--r--  2.0 unx     3085 b- defN 23-Jul-05 18:02 modal/cli/token.py
+-rw-r--r--  2.0 unx     1889 b- defN 23-Jul-05 18:02 modal/cli/utils.py
+-rw-r--r--  2.0 unx       28 b- defN 23-Jul-05 18:02 modal/extensions/__init__.py
+-rw-r--r--  2.0 unx      987 b- defN 23-Jul-05 18:02 modal/extensions/ipython.py
+-rw-r--r--  2.0 unx     6221 b- defN 23-Jul-05 18:02 modal/extensions/pymc.py
+-rw-r--r--  2.0 unx       28 b- defN 23-Jul-05 18:02 modal_base_images/__init__.py
+-rw-r--r--  2.0 unx      730 b- defN 23-Jul-05 18:02 modal_base_images/client_mount.py
+-rw-r--r--  2.0 unx      324 b- defN 23-Jul-05 18:02 modal_base_images/conda.py
+-rw-r--r--  2.0 unx      330 b- defN 23-Jul-05 18:02 modal_base_images/debian_slim.py
+-rw-r--r--  2.0 unx      329 b- defN 23-Jul-05 18:02 modal_base_images/micromamba.py
+-rw-r--r--  2.0 unx       28 b- defN 23-Jul-05 18:02 modal_proto/__init__.py
+-rw-r--r--  2.0 unx    28852 b- defN 23-Jul-05 18:02 modal_proto/api.proto
+-rw-r--r--  2.0 unx    48299 b- defN 23-Jul-05 18:02 modal_proto/api_grpc.py
+-rw-r--r--  2.0 unx   119312 b- defN 23-Jul-05 18:02 modal_proto/api_pb2.py
+-rw-r--r--  2.0 unx   104399 b- defN 23-Jul-05 18:02 modal_proto/api_pb2_grpc.py
+-rw-r--r--  2.0 unx       28 b- defN 23-Jul-05 18:02 modal_test_support/__init__.py
+-rw-r--r--  2.0 unx      134 b- defN 23-Jul-05 18:02 modal_test_support/assert_package.py
+-rw-r--r--  2.0 unx      171 b- defN 23-Jul-05 18:02 modal_test_support/consumed_map.py
+-rw-r--r--  2.0 unx     3013 b- defN 23-Jul-05 18:02 modal_test_support/functions.py
+-rw-r--r--  2.0 unx      183 b- defN 23-Jul-05 18:02 modal_test_support/hello.py
+-rw-r--r--  2.0 unx      266 b- defN 23-Jul-05 18:02 modal_test_support/image_run_function.py
+-rw-r--r--  2.0 unx      180 b- defN 23-Jul-05 18:02 modal_test_support/is_inside.py
+-rw-r--r--  2.0 unx      187 b- defN 23-Jul-05 18:02 modal_test_support/missing_main_conditional.py
+-rw-r--r--  2.0 unx       59 b- defN 23-Jul-05 18:02 modal_test_support/module_1.py
+-rw-r--r--  2.0 unx       59 b- defN 23-Jul-05 18:02 modal_test_support/module_2.py
+-rw-r--r--  2.0 unx      277 b- defN 23-Jul-05 18:02 modal_test_support/multistub.py
+-rw-r--r--  2.0 unx      228 b- defN 23-Jul-05 18:02 modal_test_support/multistub_is_inside.py
+-rw-r--r--  2.0 unx      222 b- defN 23-Jul-05 18:02 modal_test_support/multistub_is_inside_warning.py
+-rw-r--r--  2.0 unx      269 b- defN 23-Jul-05 18:02 modal_test_support/multistub_privately_decorated.py
+-rw-r--r--  2.0 unx      211 b- defN 23-Jul-05 18:02 modal_test_support/multistub_privately_decorated_named_stub.py
+-rw-r--r--  2.0 unx      218 b- defN 23-Jul-05 18:02 modal_test_support/multistub_same_name.py
+-rw-r--r--  2.0 unx      219 b- defN 23-Jul-05 18:02 modal_test_support/multistub_serialized_func.py
+-rw-r--r--  2.0 unx      197 b- defN 23-Jul-05 18:02 modal_test_support/package_mount.py
+-rw-r--r--  2.0 unx      171 b- defN 23-Jul-05 18:02 modal_test_support/progress_info.py
+-rw-r--r--  2.0 unx      153 b- defN 23-Jul-05 18:02 modal_test_support/script.py
+-rw-r--r--  2.0 unx      178 b- defN 23-Jul-05 18:02 modal_test_support/startup_failure.py
+-rw-r--r--  2.0 unx      177 b- defN 23-Jul-05 18:02 modal_test_support/stub.py
+-rw-r--r--  2.0 unx      144 b- defN 23-Jul-05 18:02 modal_test_support/unconsumed_map.py
+-rw-r--r--  2.0 unx      123 b- defN 23-Jul-05 18:02 modal_test_support/webhook_forgot_function.py
+-rw-r--r--  2.0 unx       28 b- defN 23-Jul-05 18:02 modal_utils/__init__.py
+-rw-r--r--  2.0 unx      465 b- defN 23-Jul-05 18:02 modal_utils/app_utils.py
+-rw-r--r--  2.0 unx    11362 b- defN 23-Jul-05 18:02 modal_utils/async_utils.py
+-rw-r--r--  2.0 unx     6538 b- defN 23-Jul-05 18:02 modal_utils/grpc_testing.py
+-rw-r--r--  2.0 unx     9320 b- defN 23-Jul-05 18:02 modal_utils/grpc_utils.py
+-rw-r--r--  2.0 unx     1597 b- defN 23-Jul-05 18:02 modal_utils/hash_utils.py
+-rw-r--r--  2.0 unx     1426 b- defN 23-Jul-05 18:02 modal_utils/http_utils.py
+-rw-r--r--  2.0 unx      113 b- defN 23-Jul-05 18:02 modal_utils/logger.py
+-rw-r--r--  2.0 unx     1226 b- defN 23-Jul-05 18:02 modal_utils/package_utils.py
+-rw-r--r--  2.0 unx      458 b- defN 23-Jul-05 18:02 modal_version/__init__.py
+-rw-r--r--  2.0 unx       48 b- defN 23-Jul-05 18:02 modal_version/_version_generated.py
+-rw-r--r--  2.0 unx    10173 b- defN 23-Jul-05 18:02 modal_client-0.50.2586.dist-info/LICENSE
+-rw-r--r--  2.0 unx     1923 b- defN 23-Jul-05 18:02 modal_client-0.50.2586.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jul-05 18:02 modal_client-0.50.2586.dist-info/WHEEL
+-rw-r--r--  2.0 unx       46 b- defN 23-Jul-05 18:02 modal_client-0.50.2586.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       93 b- defN 23-Jul-05 18:02 modal_client-0.50.2586.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx    13606 b- defN 23-Jul-05 18:02 modal_client-0.50.2586.dist-info/RECORD
+167 files, 1081167 bytes uncompressed, 249825 bytes compressed:  76.9%
```

## zipnote {}

```diff
@@ -72,14 +72,17 @@
 
 Filename: client_test/mount_test.py
 Comment: 
 
 Filename: client_test/mounted_files_test.py
 Comment: 
 
+Filename: client_test/network_file_system_test.py
+Comment: 
+
 Filename: client_test/notebook_test.py
 Comment: 
 
 Filename: client_test/object_test.py
 Comment: 
 
 Filename: client_test/package_utils_test.py
@@ -99,17 +102,14 @@
 
 Filename: client_test/secret_test.py
 Comment: 
 
 Filename: client_test/serialization_test.py
 Comment: 
 
-Filename: client_test/shared_volume_test.py
-Comment: 
-
 Filename: client_test/stub_test.py
 Comment: 
 
 Filename: client_test/utils_test.py
 Comment: 
 
 Filename: client_test/version_test.py
@@ -234,14 +234,20 @@
 
 Filename: modal/mount.py
 Comment: 
 
 Filename: modal/mount.pyi
 Comment: 
 
+Filename: modal/network_file_system.py
+Comment: 
+
+Filename: modal/network_file_system.pyi
+Comment: 
+
 Filename: modal/object.py
 Comment: 
 
 Filename: modal/object.pyi
 Comment: 
 
 Filename: modal/proxy.py
@@ -279,17 +285,14 @@
 
 Filename: modal/serving.py
 Comment: 
 
 Filename: modal/shared_volume.py
 Comment: 
 
-Filename: modal/shared_volume.pyi
-Comment: 
-
 Filename: modal/stub.py
 Comment: 
 
 Filename: modal/stub.pyi
 Comment: 
 
 Filename: modal/volume.py
@@ -312,14 +315,17 @@
 
 Filename: modal/cli/environment.py
 Comment: 
 
 Filename: modal/cli/import_refs.py
 Comment: 
 
+Filename: modal/cli/network_file_system.py
+Comment: 
+
 Filename: modal/cli/profile.py
 Comment: 
 
 Filename: modal/cli/run.py
 Comment: 
 
 Filename: modal/cli/secret.py
@@ -327,17 +333,14 @@
 
 Filename: modal/cli/token.py
 Comment: 
 
 Filename: modal/cli/utils.py
 Comment: 
 
-Filename: modal/cli/volume.py
-Comment: 
-
 Filename: modal/extensions/__init__.py
 Comment: 
 
 Filename: modal/extensions/ipython.py
 Comment: 
 
 Filename: modal/extensions/pymc.py
@@ -474,26 +477,26 @@
 
 Filename: modal_version/__init__.py
 Comment: 
 
 Filename: modal_version/_version_generated.py
 Comment: 
 
-Filename: modal_client-0.50.2581.dist-info/LICENSE
+Filename: modal_client-0.50.2586.dist-info/LICENSE
 Comment: 
 
-Filename: modal_client-0.50.2581.dist-info/METADATA
+Filename: modal_client-0.50.2586.dist-info/METADATA
 Comment: 
 
-Filename: modal_client-0.50.2581.dist-info/WHEEL
+Filename: modal_client-0.50.2586.dist-info/WHEEL
 Comment: 
 
-Filename: modal_client-0.50.2581.dist-info/entry_points.txt
+Filename: modal_client-0.50.2586.dist-info/entry_points.txt
 Comment: 
 
-Filename: modal_client-0.50.2581.dist-info/top_level.txt
+Filename: modal_client-0.50.2586.dist-info/top_level.txt
 Comment: 
 
-Filename: modal_client-0.50.2581.dist-info/RECORD
+Filename: modal_client-0.50.2586.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## client_test/cli_test.py

```diff
@@ -338,29 +338,35 @@
 
 def test_logs(servicer, server_url_env):
     servicer.done = True
     res = _run(["app", "logs", "ap-123"], expected_exit_code=0)
     assert res.stdout == "hello, world (1)\n"  # from servicer mock
 
 
-def test_volume_get(set_env_client):
-    volume_name = "my-shared-volume"
-    _run(["volume", "create", volume_name])
+def test_nfs_get(set_env_client):
+    nfs_name = "my-shared-nfs"
+    _run(["nfs", "create", nfs_name])
     with tempfile.TemporaryDirectory() as tmpdir:
         upload_path = os.path.join(tmpdir, "upload.txt")
         with open(upload_path, "w") as f:
             f.write("foo bar baz")
             f.flush()
-        _run(["volume", "put", volume_name, upload_path, "test.txt"])
+        _run(["nfs", "put", nfs_name, upload_path, "test.txt"])
 
-        _run(["volume", "get", volume_name, "test.txt", tmpdir])
+        _run(["nfs", "get", nfs_name, "test.txt", tmpdir])
         with open(os.path.join(tmpdir, "test.txt"), "r") as f:
             assert f.read() == "foo bar baz"
 
 
+def test_deprecated_volume(set_env_client):
+    _run(
+        ["volume", "create", "xyz-volume"], expected_stderr="DeprecationWarning: The command 'create' is deprecated.\n"
+    )
+
+
 @pytest.mark.parametrize("command", [["run"], ["deploy"], ["serve", "--timeout=1"], ["shell"]])
 @pytest.mark.usefixtures("set_env_client", "mock_shell_pty")
 def test_environment_flag(test_dir, servicer, command):
     @servicer.function_body
     def nothing(
         arg=None,
     ):  # hacky - compatible with both argless modal run and interactive mode which always sends an arg...
```

## client_test/function_test.py

```diff
@@ -5,16 +5,16 @@
 import pytest
 import time
 
 import cloudpickle
 
 from synchronicity.exceptions import UserCodeException
 
-from modal import Proxy, Stub, SharedVolume, web_endpoint, asgi_app, wsgi_app
-from modal.exception import DeprecationError, InvalidError
+from modal import Proxy, Stub, NetworkFileSystem, web_endpoint, asgi_app, wsgi_app
+from modal.exception import DeprecationError, PendingDeprecationError, InvalidError
 from modal.functions import Function, FunctionCall, gather, FunctionHandle
 from modal.runner import deploy_stub
 
 stub = Stub()
 
 
 @stub.function()
@@ -509,41 +509,53 @@
         @lc_stub.function()
         def f(self, x):
             return x**2
 
 
 def test_allow_cross_region_volumes(client, servicer):
     stub = Stub()
-    vol1, vol2 = SharedVolume.new(), SharedVolume.new()
-    # Should pass flag for all the function's SharedVolumeMounts
-    stub.function(shared_volumes={"/sv-1": vol1, "/sv-2": vol2}, allow_cross_region_volumes=True)(dummy)
+    vol1, vol2 = NetworkFileSystem.new(), NetworkFileSystem.new()
+    # Should pass flag for all the function's NetworkFileSystemMounts
+    stub.function(network_file_systems={"/sv-1": vol1, "/sv-2": vol2}, allow_cross_region_volumes=True)(dummy)
 
     with stub.run(client=client):
         assert len(servicer.app_functions) == 1
         for func in servicer.app_functions.values():
             assert len(func.shared_volume_mounts) == 2
             for svm in func.shared_volume_mounts:
                 assert svm.allow_cross_region
 
 
 def test_allow_cross_region_volumes_webhook(client, servicer):
     # TODO(erikbern): this stest seems a bit redundant
     stub = Stub()
-    vol1, vol2 = SharedVolume.new(), SharedVolume.new()
-    # Should pass flag for all the function's SharedVolumeMounts
-    stub.function(shared_volumes={"/sv-1": vol1, "/sv-2": vol2}, allow_cross_region_volumes=True)(web_endpoint()(dummy))
+    vol1, vol2 = NetworkFileSystem.new(), NetworkFileSystem.new()
+    # Should pass flag for all the function's NetworkFileSystemMounts
+    stub.function(network_file_systems={"/sv-1": vol1, "/sv-2": vol2}, allow_cross_region_volumes=True)(
+        web_endpoint()(dummy)
+    )
 
     with stub.run(client=client):
         assert len(servicer.app_functions) == 1
         for func in servicer.app_functions.values():
             assert len(func.shared_volume_mounts) == 2
             for svm in func.shared_volume_mounts:
                 assert svm.allow_cross_region
 
 
+def test_shared_volumes(client, servicer):
+    stub = Stub()
+    vol = NetworkFileSystem.new()
+    with pytest.warns(PendingDeprecationError):
+        stub.function(shared_volumes={"/sv-1": vol})(dummy)
+
+    with stub.run(client=client):
+        assert len(servicer.app_functions) == 1
+
+
 def test_serialize_deserialize_function_handle(servicer, client):
     from modal._serialization import serialize, deserialize
 
     stub = Stub()
 
     @stub.function(serialized=True)
     @web_endpoint()
```

## client_test/image_test.py

```diff
@@ -1,15 +1,15 @@
 # Copyright Modal Labs 2022
 import os
 import pytest
 import sys
 from tempfile import NamedTemporaryFile
 from typing import List
 
-from modal import Image, Mount, Secret, SharedVolume, Stub, gpu
+from modal import Image, Mount, Secret, NetworkFileSystem, Stub, gpu
 from modal.exception import InvalidError, NotFoundError
 from modal.image import _dockerhub_python_version
 from modal_proto import api_pb2
 
 
 def test_python_version():
     assert _dockerhub_python_version("3.9.1") == "3.9.15"
@@ -274,26 +274,26 @@
 
 def run_f():
     print("foo!")
 
 
 def test_image_run_function(client, servicer):
     stub = Stub()
-    volume = SharedVolume.persisted("test-vol")
+    volume = NetworkFileSystem.persisted("test-vol")
     stub["image"] = (
         Image.debian_slim()
         .pip_install("pandas")
-        .run_function(run_f, secrets=[Secret.from_dict({"xyz": "123"})], shared_volumes={"/foo": volume})
+        .run_function(run_f, secrets=[Secret.from_dict({"xyz": "123"})], network_file_systems={"/foo": volume})
     )
 
     with stub.run(client=client) as running_app:
         layers = get_image_layers(running_app["image"].object_id, servicer)
         assert "foo!" in layers[0].build_function_def
         assert "Secret.from_dict([xyz])" in layers[0].build_function_def
-        assert "Ref<SharedVolume()>(test-vol)" in layers[0].build_function_def
+        assert "Ref<NetworkFileSystem()>(test-vol)" in layers[0].build_function_def
 
     function_id = servicer.image_build_function_ids[2]
     assert function_id
     assert servicer.app_functions[function_id].function_name == "run_f"
     assert len(servicer.app_functions[function_id].secret_ids) == 1
```

## modal/__init__.py

```diff
@@ -10,14 +10,15 @@
 from .mount import Mount, create_package_mounts
 from .object import Handle, _BLOCKING_H  # noqa
 from .proxy import Proxy
 from .queue import Queue
 from .retries import Retries
 from .schedule import Cron, Period
 from .secret import Secret
+from .network_file_system import NetworkFileSystem
 from .shared_volume import SharedVolume
 from .stub import Stub
 from .volume import Volume
 
 __all__ = [
     "__version__",
     "App",
@@ -25,14 +26,15 @@
     "Cron",
     "Dict",
     "Error",
     "Function",
     "FunctionHandle",
     "Image",
     "Mount",
+    "NetworkFileSystem",
     "Period",
     "Proxy",
     "Queue",
     "Retries",
     "Secret",
     "SharedVolume",
     "Stub",
```

## modal/client.pyi

```diff
@@ -11,15 +11,15 @@
 
 
 async def _grpc_exc_string(exc: grpclib.exceptions.GRPCError, method_name: str, server_url: str, timeout: float) -> str:
     ...
 
 
 class _Client:
-    def __init__(self, server_url, client_type, credentials, version='0.50.2581', *, no_verify=False):
+    def __init__(self, server_url, client_type, credentials, version='0.50.2586', *, no_verify=False):
         ...
 
     @property
     def stub(self):
         ...
 
     async def _open(self):
@@ -60,15 +60,15 @@
 
     @classmethod
     def set_env_client(cls, client):
         ...
 
 
 class Client:
-    def __init__(self, server_url, client_type, credentials, version='0.50.2581', *, no_verify=False):
+    def __init__(self, server_url, client_type, credentials, version='0.50.2586', *, no_verify=False):
         ...
 
     @property
     def stub(self):
         ...
 
     class ___open_spec(typing_extensions.Protocol):
```

## modal/functions.py

```diff
@@ -63,15 +63,15 @@
 from .image import _Image
 from .mount import _Mount, _get_client_mount
 from .object import _Handle, _Provider
 from .proxy import _Proxy
 from .retries import Retries
 from .schedule import Schedule
 from .secret import _Secret
-from .shared_volume import _SharedVolume
+from .network_file_system import _NetworkFileSystem
 from .volume import _Volume
 
 ATTEMPT_TIMEOUT_GRACE_PERIOD = 5  # seconds
 
 
 if typing.TYPE_CHECKING:
     import modal.stub
@@ -822,15 +822,15 @@
     `@stub.function()` decorator on the `Stub` object for your application.
     """
 
     # TODO: more type annotations
     _secrets: Collection[_Secret]
     _info: FunctionInfo
     _mounts: Collection[_Mount]
-    _shared_volumes: Dict[Union[str, os.PathLike], _SharedVolume]
+    _network_file_systems: Dict[Union[str, os.PathLike], _NetworkFileSystem]
     _allow_cross_region_volumes: bool
     _volumes: Dict[Union[str, os.PathLike], _Volume]
     _image: Optional[_Image]
     _gpu: Optional[GPU_T]
     _cloud: Optional[str]
     _function_handle: _FunctionHandle
     _stub: "modal.stub._Stub"
@@ -846,15 +846,15 @@
         secret: Optional[_Secret] = None,
         secrets: Collection[_Secret] = (),
         schedule: Optional[Schedule] = None,
         is_generator=False,
         gpu: GPU_T = None,
         # TODO: maybe break this out into a separate decorator for notebooks.
         mounts: Collection[_Mount] = (),
-        shared_volumes: Dict[Union[str, os.PathLike], _SharedVolume] = {},
+        network_file_systems: Dict[Union[str, os.PathLike], _NetworkFileSystem] = {},
         allow_cross_region_volumes: bool = False,
         volumes: Dict[Union[str, os.PathLike], _Volume] = {},
         webhook_config: Optional[api_pb2.WebhookConfig] = None,
         memory: Optional[int] = None,
         proxy: Optional[_Proxy] = None,
         retries: Optional[Union[int, Retries]] = None,
         timeout: Optional[int] = None,
@@ -931,15 +931,15 @@
 
         panel_items = [
             str(i)
             for i in [
                 *mounts,
                 image,
                 *secrets,
-                *shared_volumes.values(),
+                *network_file_systems.values(),
                 *volumes.values(),
             ]
         ]
         if gpu:
             panel_items.append(display_gpu_config(gpu))
         if cloud:
             panel_items.append(f"Cloud({cloud.upper()})")
@@ -979,16 +979,16 @@
             if proxy:
                 proxy_id = (await resolver.load(proxy)).object_id
             else:
                 proxy_id = None
 
             # Mount point path validation for volumes and shared volumes
             def _validate_mount_points(
-                display_name: str, volume_likes: Dict[Union[str, os.PathLike], Union[_Volume, _SharedVolume]]
-            ) -> List[Tuple[str, Union[_Volume, _SharedVolume]]]:
+                display_name: str, volume_likes: Dict[Union[str, os.PathLike], Union[_Volume, _NetworkFileSystem]]
+            ) -> List[Tuple[str, Union[_Volume, _NetworkFileSystem]]]:
                 validated = []
                 for path, vol in volume_likes.items():
                     path = PurePath(path).as_posix()
                     abs_path = posixpath.abspath(path)
 
                     if path != abs_path:
                         raise InvalidError(f"{display_name} {path} must be a canonical, absolute path.")
@@ -1011,31 +1011,33 @@
                         raise InvalidError(f"Expected modal.Image object. Got {type(image)}.")
                     image_id = (await resolver.load(image)).object_id
                 else:
                     image_id = None  # Happens if it's a notebook function
                 return image_id
 
             # validation
-            if not isinstance(shared_volumes, dict):
-                raise InvalidError("shared_volumes must be a dict[str, SharedVolume] where the keys are paths")
-            validated_shared_volumes = _validate_mount_points("Shared volume", shared_volumes)
-
-            async def shared_volume_loader():
-                shared_volume_mounts = []
-                volume_ids = await _load_ids([vol for _, vol in validated_shared_volumes])
+            if not isinstance(network_file_systems, dict):
+                raise InvalidError(
+                    "network_file_systems must be a dict[str, NetworkFileSystem] where the keys are paths"
+                )
+            validated_network_file_systems = _validate_mount_points("Shared volume", network_file_systems)
+
+            async def network_file_system_loader():
+                network_file_system_mounts = []
+                volume_ids = await _load_ids([vol for _, vol in validated_network_file_systems])
                 # Relies on dicts being ordered (true as of Python 3.6).
-                for ((path, _), volume_id) in zip(validated_shared_volumes, volume_ids):
-                    shared_volume_mounts.append(
+                for ((path, _), volume_id) in zip(validated_network_file_systems, volume_ids):
+                    network_file_system_mounts.append(
                         api_pb2.SharedVolumeMount(
                             mount_path=path,
                             shared_volume_id=volume_id,
                             allow_cross_region=allow_cross_region_volumes,
                         )
                     )
-                return shared_volume_mounts
+                return network_file_system_mounts
 
             if not isinstance(volumes, dict):
                 raise InvalidError("volumes must be a dict[str, Volume] where the keys are paths")
             validated_volumes = _validate_mount_points("Volume", volumes)
             # We don't support mounting a volume in more than one location
             volume_to_paths: Dict[_Volume, List[str]] = {}
             for (path, volume) in validated_volumes:
@@ -1084,19 +1086,19 @@
                 function_serialized = None
                 class_serialized = None
 
             stub_name = ""
             if stub and stub.name:
                 stub_name = stub.name
 
-            mount_ids, secret_ids, image_id, shared_volume_mounts, volume_mounts = await asyncio.gather(
+            mount_ids, secret_ids, image_id, network_file_system_mounts, volume_mounts = await asyncio.gather(
                 _load_ids(all_mounts),
                 _load_ids(secrets),
                 image_loader(),
-                shared_volume_loader(),
+                network_file_system_loader(),
                 volume_loader(),
             )
 
             # Create function remotely
             function_definition = api_pb2.Function(
                 module_name=info.module_name,
                 function_name=info.function_name,
@@ -1105,15 +1107,15 @@
                 image_id=image_id,
                 definition_type=info.definition_type,
                 function_serialized=function_serialized,
                 class_serialized=class_serialized,
                 function_type=function_type,
                 resources=api_pb2.Resources(milli_cpu=milli_cpu, gpu_config=gpu_config, memory_mb=memory),
                 webhook_config=webhook_config,
-                shared_volume_mounts=shared_volume_mounts,
+                shared_volume_mounts=network_file_system_mounts,
                 volume_mounts=volume_mounts,
                 proxy_id=proxy_id,
                 retry_policy=retry_policy,
                 timeout_secs=timeout,
                 task_idle_timeout_secs=container_idle_timeout,
                 concurrency_limit=concurrency_limit,
                 pty_info=pty_info,
@@ -1168,15 +1170,15 @@
         obj._function_handle = function_handle
         obj._gpu = gpu
         obj._gpu_config = gpu_config
         obj._mounts = mounts
         obj._panel_items = panel_items
         obj._raw_f = raw_f
         obj._secrets = secrets
-        obj._shared_volumes = shared_volumes
+        obj._network_file_systems = network_file_systems
         obj._tag = tag
         obj._all_mounts = all_mounts  # needed for modal.serve file watching
         return obj
 
     def get_panel_items(self) -> List[str]:
         return self._panel_items
 
@@ -1190,15 +1192,15 @@
         # Used to check whether we should rebuild an image using run_function
         # Plaintext source and arg definition for the function, so it's part of the image
         # hash. We can't use the cloudpickle hash because it's not very stable.
         kwargs = dict(
             secrets=repr(self._secrets),
             gpu_config=repr(self._gpu_config),
             mounts=repr(self._mounts),
-            shared_volumes=repr(self._shared_volumes),
+            network_file_systems=repr(self._network_file_systems),
         )
         return f"{inspect.getsource(self._raw_f)}\n{repr(kwargs)}"
 
 
 Function = synchronize_api(_Function)
```

## modal/functions.pyi

```diff
@@ -3,20 +3,20 @@
 import modal._function_utils
 import modal._output
 import modal.call_graph
 import modal.client
 import modal.gpu
 import modal.image
 import modal.mount
+import modal.network_file_system
 import modal.object
 import modal.proxy
 import modal.retries
 import modal.schedule
 import modal.secret
-import modal.shared_volume
 import modal.stub
 import modal.volume
 import modal_proto.api_pb2
 import os
 import typing
 import typing_extensions
 
@@ -348,27 +348,27 @@
         ...
 
 
 class _Function(modal.object._Provider[_FunctionHandle]):
     _secrets: typing.Collection[modal.secret._Secret]
     _info: modal._function_utils.FunctionInfo
     _mounts: typing.Collection[modal.mount._Mount]
-    _shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.shared_volume._SharedVolume]
+    _network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system._NetworkFileSystem]
     _allow_cross_region_volumes: bool
     _volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume._Volume]
     _image: typing.Union[modal.image._Image, None]
     _gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig]
     _cloud: typing.Union[str, None]
     _function_handle: _FunctionHandle
     _stub: modal.stub._Stub
     _is_builder_function: bool
     _retry_policy: typing.Union[modal_proto.api_pb2.FunctionRetryPolicy, None]
 
     @staticmethod
-    def from_args(function_handle: _FunctionHandle, info: modal._function_utils.FunctionInfo, stub, image=None, secret: typing.Union[modal.secret._Secret, None] = None, secrets: typing.Collection[modal.secret._Secret] = (), schedule: typing.Union[modal.schedule.Schedule, None] = None, is_generator=False, gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, mounts: typing.Collection[modal.mount._Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.shared_volume._SharedVolume] = {}, allow_cross_region_volumes: bool = False, volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume._Volume] = {}, webhook_config: typing.Union[modal_proto.api_pb2.WebhookConfig, None] = None, memory: typing.Union[int, None] = None, proxy: typing.Union[modal.proxy._Proxy, None] = None, retries: typing.Union[int, modal.retries.Retries, None] = None, timeout: typing.Union[int, None] = None, concurrency_limit: typing.Union[int, None] = None, container_idle_timeout: typing.Union[int, None] = None, cpu: typing.Union[float, None] = None, keep_warm: typing.Union[int, None] = None, interactive: bool = False, name: typing.Union[str, None] = None, cloud: typing.Union[str, None] = None, is_builder_function: bool = False, cls: typing.Union[type, None] = None) -> None:
+    def from_args(function_handle: _FunctionHandle, info: modal._function_utils.FunctionInfo, stub, image=None, secret: typing.Union[modal.secret._Secret, None] = None, secrets: typing.Collection[modal.secret._Secret] = (), schedule: typing.Union[modal.schedule.Schedule, None] = None, is_generator=False, gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, mounts: typing.Collection[modal.mount._Mount] = (), network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system._NetworkFileSystem] = {}, allow_cross_region_volumes: bool = False, volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume._Volume] = {}, webhook_config: typing.Union[modal_proto.api_pb2.WebhookConfig, None] = None, memory: typing.Union[int, None] = None, proxy: typing.Union[modal.proxy._Proxy, None] = None, retries: typing.Union[int, modal.retries.Retries, None] = None, timeout: typing.Union[int, None] = None, concurrency_limit: typing.Union[int, None] = None, container_idle_timeout: typing.Union[int, None] = None, cpu: typing.Union[float, None] = None, keep_warm: typing.Union[int, None] = None, interactive: bool = False, name: typing.Union[str, None] = None, cloud: typing.Union[str, None] = None, is_builder_function: bool = False, cls: typing.Union[type, None] = None) -> None:
         ...
 
     def get_panel_items(self) -> typing.List[str]:
         ...
 
     @property
     def tag(self):
@@ -378,30 +378,30 @@
         ...
 
 
 class Function(modal.object.Provider[FunctionHandle]):
     _secrets: typing.Collection[modal.secret.Secret]
     _info: modal._function_utils.FunctionInfo
     _mounts: typing.Collection[modal.mount.Mount]
-    _shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.shared_volume.SharedVolume]
+    _network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system.NetworkFileSystem]
     _allow_cross_region_volumes: bool
     _volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume.Volume]
     _image: typing.Union[modal.image.Image, None]
     _gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig]
     _cloud: typing.Union[str, None]
     _function_handle: FunctionHandle
     _stub: modal.stub.Stub
     _is_builder_function: bool
     _retry_policy: typing.Union[modal_proto.api_pb2.FunctionRetryPolicy, None]
 
     def __init__(self):
         ...
 
     @staticmethod
-    def from_args(function_handle: FunctionHandle, info: modal._function_utils.FunctionInfo, stub, image=None, secret: typing.Union[modal.secret.Secret, None] = None, secrets: typing.Collection[modal.secret.Secret] = (), schedule: typing.Union[modal.schedule.Schedule, None] = None, is_generator=False, gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, mounts: typing.Collection[modal.mount.Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.shared_volume.SharedVolume] = {}, allow_cross_region_volumes: bool = False, volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume.Volume] = {}, webhook_config: typing.Union[modal_proto.api_pb2.WebhookConfig, None] = None, memory: typing.Union[int, None] = None, proxy: typing.Union[modal.proxy.Proxy, None] = None, retries: typing.Union[int, modal.retries.Retries, None] = None, timeout: typing.Union[int, None] = None, concurrency_limit: typing.Union[int, None] = None, container_idle_timeout: typing.Union[int, None] = None, cpu: typing.Union[float, None] = None, keep_warm: typing.Union[int, None] = None, interactive: bool = False, name: typing.Union[str, None] = None, cloud: typing.Union[str, None] = None, is_builder_function: bool = False, cls: typing.Union[type, None] = None) -> None:
+    def from_args(function_handle: FunctionHandle, info: modal._function_utils.FunctionInfo, stub, image=None, secret: typing.Union[modal.secret.Secret, None] = None, secrets: typing.Collection[modal.secret.Secret] = (), schedule: typing.Union[modal.schedule.Schedule, None] = None, is_generator=False, gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, mounts: typing.Collection[modal.mount.Mount] = (), network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system.NetworkFileSystem] = {}, allow_cross_region_volumes: bool = False, volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume.Volume] = {}, webhook_config: typing.Union[modal_proto.api_pb2.WebhookConfig, None] = None, memory: typing.Union[int, None] = None, proxy: typing.Union[modal.proxy.Proxy, None] = None, retries: typing.Union[int, modal.retries.Retries, None] = None, timeout: typing.Union[int, None] = None, concurrency_limit: typing.Union[int, None] = None, container_idle_timeout: typing.Union[int, None] = None, cpu: typing.Union[float, None] = None, keep_warm: typing.Union[int, None] = None, interactive: bool = False, name: typing.Union[str, None] = None, cloud: typing.Union[str, None] = None, is_builder_function: bool = False, cls: typing.Union[type, None] = None) -> None:
         ...
 
     def get_panel_items(self) -> typing.List[str]:
         ...
 
     @property
     def tag(self):
```

## modal/image.py

```diff
@@ -19,15 +19,15 @@
 from .app import is_local
 from .config import config, logger
 from .exception import InvalidError, NotFoundError, RemoteError, deprecation_warning
 from .gpu import GPU_T, parse_gpu_config
 from .mount import _Mount
 from .object import _Handle, _Provider
 from .secret import _Secret
-from .shared_volume import _SharedVolume
+from .network_file_system import _NetworkFileSystem
 
 
 def _validate_python_version(version: str) -> None:
     components = version.split(".")
     supported_versions = {"3.11", "3.10", "3.9", "3.8", "3.7"}
     if len(components) == 2 and version in supported_versions:
         return
@@ -1133,23 +1133,24 @@
         self,
         raw_f: Callable[[], Any],
         *,
         secret: Optional[_Secret] = None,  # An optional Modal Secret with environment variables for the container
         secrets: Sequence[_Secret] = (),  # Plural version of `secret` when multiple secrets are needed
         gpu: GPU_T = None,  # GPU specification as string ("any", "T4", "A10G", ...) or object (`modal.GPU.A100()`, ...)
         mounts: Sequence[_Mount] = (),
-        shared_volumes: Dict[Union[str, os.PathLike], _SharedVolume] = {},
+        shared_volumes: Dict[Union[str, os.PathLike], _NetworkFileSystem] = {},
+        network_file_systems: Dict[Union[str, os.PathLike], _NetworkFileSystem] = {},
         cpu: Optional[float] = None,  # How many CPU cores to request. This is a soft limit.
         memory: Optional[int] = None,  # How much memory to request, in MiB. This is a soft limit.
         timeout: Optional[int] = 86400,  # Maximum execution time of the function in seconds.
         cloud: Optional[str] = None,  # Cloud provider to run the function on. Possible values are aws, gcp, auto.
         force_build: bool = False,
     ) -> "_Image":
         """Run user-defined function `raw_function` as an image build step. The function runs just like an ordinary Modal
-        function, and any kwargs accepted by `@stub.function` (such as `Mount`s, `SharedVolume`s, and resource requests) can
+        function, and any kwargs accepted by `@stub.function` (such as `Mount`s, `NetworkFileSystem`s, and resource requests) can
         be supplied to it. After it finishes execution, a snapshot of the resulting container file system is saved as an image.
 
         **Note**
 
         Only the source code of `raw_function` and the contents of `**kwargs` are used to determine whether the image has changed
         and needs to be rebuilt. If this function references other functions or variables, the image will not be rebuilt if you
         make changes to them. You can force a rebuild by changing the function's source code itself.
@@ -1170,24 +1171,32 @@
         ```
         """
         from .functions import _Function, _FunctionHandle
 
         info = FunctionInfo(raw_f)
         function_handle = _FunctionHandle._new()
 
+        if shared_volumes:
+            deprecation_warning(
+                date(2023, 7, 5),
+                "`shared_volumes` is deprecated. Use the argument `network_file_systems` instead.",
+                pending=True,
+            )
+            network_file_systems = {**network_file_systems, **shared_volumes}
+
         function = _Function.from_args(
             function_handle,
             info,
             stub=None,
             image=self,
             secret=secret,
             secrets=secrets,
             gpu=gpu,
             mounts=mounts,
-            shared_volumes=shared_volumes,
+            network_file_systems=network_file_systems,
             memory=memory,
             timeout=timeout,
             cpu=cpu,
             cloud=cloud,
             is_builder_function=True,
         )
         return self.extend(build_function=function, force_build=self.force_build or force_build)
```

## modal/image.pyi

```diff
@@ -1,15 +1,15 @@
 import __main__
 import modal._resolver
 import modal.functions
 import modal.gpu
 import modal.mount
+import modal.network_file_system
 import modal.object
 import modal.secret
-import modal.shared_volume
 import modal_proto.api_pb2
 import os
 import pathlib
 import typing
 
 def _validate_python_version(version: str) -> None:
     ...
@@ -123,15 +123,15 @@
     @staticmethod
     def debian_slim(python_version: typing.Union[str, None] = None, force_build: bool = False) -> _Image:
         ...
 
     def apt_install(self, *packages: typing.Union[str, typing.List[str]], force_build: bool = False, secrets: typing.Sequence[modal.secret._Secret] = [], gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None) -> _Image:
         ...
 
-    def run_function(self, raw_f: typing.Callable[[], typing.Any], *, secret: typing.Union[modal.secret._Secret, None] = None, secrets: typing.Sequence[modal.secret._Secret] = (), gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, mounts: typing.Sequence[modal.mount._Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.shared_volume._SharedVolume] = {}, cpu: typing.Union[float, None] = None, memory: typing.Union[int, None] = None, timeout: typing.Union[int, None] = 86400, cloud: typing.Union[str, None] = None, force_build: bool = False) -> _Image:
+    def run_function(self, raw_f: typing.Callable[[], typing.Any], *, secret: typing.Union[modal.secret._Secret, None] = None, secrets: typing.Sequence[modal.secret._Secret] = (), gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, mounts: typing.Sequence[modal.mount._Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system._NetworkFileSystem] = {}, network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system._NetworkFileSystem] = {}, cpu: typing.Union[float, None] = None, memory: typing.Union[int, None] = None, timeout: typing.Union[int, None] = 86400, cloud: typing.Union[str, None] = None, force_build: bool = False) -> _Image:
         ...
 
     def env(self, vars: typing.Dict[str, str]) -> _Image:
         ...
 
 
 class ImageHandle(modal.object.Handle):
@@ -228,12 +228,12 @@
     @staticmethod
     def debian_slim(python_version: typing.Union[str, None] = None, force_build: bool = False) -> Image:
         ...
 
     def apt_install(self, *packages: typing.Union[str, typing.List[str]], force_build: bool = False, secrets: typing.Sequence[modal.secret.Secret] = [], gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None) -> Image:
         ...
 
-    def run_function(self, raw_f: typing.Callable[[], typing.Any], *, secret: typing.Union[modal.secret.Secret, None] = None, secrets: typing.Sequence[modal.secret.Secret] = (), gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, mounts: typing.Sequence[modal.mount.Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.shared_volume.SharedVolume] = {}, cpu: typing.Union[float, None] = None, memory: typing.Union[int, None] = None, timeout: typing.Union[int, None] = 86400, cloud: typing.Union[str, None] = None, force_build: bool = False) -> Image:
+    def run_function(self, raw_f: typing.Callable[[], typing.Any], *, secret: typing.Union[modal.secret.Secret, None] = None, secrets: typing.Sequence[modal.secret.Secret] = (), gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, mounts: typing.Sequence[modal.mount.Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system.NetworkFileSystem] = {}, network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system.NetworkFileSystem] = {}, cpu: typing.Union[float, None] = None, memory: typing.Union[int, None] = None, timeout: typing.Union[int, None] = 86400, cloud: typing.Union[str, None] = None, force_build: bool = False) -> Image:
         ...
 
     def env(self, vars: typing.Dict[str, str]) -> Image:
         ...
```

## modal/runner.py

```diff
@@ -236,15 +236,15 @@
     ```
     """
 
     wrapped_fn = stub.function(
         interactive=True,
         timeout=86400,
         mounts=function._mounts,
-        shared_volumes=function._shared_volumes,
+        network_file_systems=function._network_file_systems,
         allow_cross_region_volumes=function._allow_cross_region_volumes,
         image=function._image,
         secrets=function._secrets,
         gpu=function._gpu,
         cloud=function._cloud,
     )(_pty.exec_cmd)
```

## modal/shared_volume.py

```diff
@@ -1,255 +1,30 @@
-# Copyright Modal Labs 2022
-import os
+# Copyright Modal Labs 2023
 from datetime import date
-import time
-from pathlib import Path, PurePosixPath
-from typing import AsyncIterator, BinaryIO, List, Optional, Union
-
-import modal
-from modal_proto import api_pb2
-from modal_utils.async_utils import synchronize_api, ConcurrencyPool
-from modal_utils.grpc_utils import retry_transient_errors, unary_stream
-from modal_utils.hash_utils import get_sha256_hex
-from modal._location import parse_cloud_provider
-
-from ._blob_utils import LARGE_FILE_LIMIT, blob_iter, blob_upload_file
-from ._resolver import Resolver
-from ._types import typechecked
-from .exception import deprecation_warning
-from .object import _Handle, _Provider
 
-SHARED_VOLUME_PUT_FILE_CLIENT_TIMEOUT = (
-    10 * 60
-)  # 10 min max for transferring files (does not include upload time to s3)
-
-
-class _SharedVolumeHandle(_Handle, type_prefix="sv"):
-    """Handle to a `SharedVolume` object.
-
-    Should typically not be used directly in a Modal function,
-    and instead referenced through the file system, see `modal.SharedVolume`.
-
-    Also see the CLI methods for accessing shared volumes:
-
-    ```bash
-    modal volume --help
-    ```
-
-    A SharedVolumeHandle *can* however be useful for some local scripting scenarios, e.g.:
-
-    ```python notest
-    vol = modal.lookup("my-shared-volume")
-    for chunk in vol.read_file("my_db_dump.csv"):
-        ...
-    ```
-    """
-
-    async def write_file(self, remote_path: str, fp: BinaryIO) -> int:
-        """Write from a file object to a path on the shared volume, atomically.
-
-        Will create any needed parent directories automatically.
-
-        If remote_path ends with `/` it's assumed to be a directory and the
-        file will be uploaded with its current name to that directory.
-        """
-        sha_hash = get_sha256_hex(fp)
-        fp.seek(0, os.SEEK_END)
-        data_size = fp.tell()
-        fp.seek(0)
-        if data_size > LARGE_FILE_LIMIT:
-            blob_id = await blob_upload_file(fp, self._client.stub)
-            req = api_pb2.SharedVolumePutFileRequest(
-                shared_volume_id=self._object_id,
-                path=remote_path,
-                data_blob_id=blob_id,
-                sha256_hex=sha_hash,
-                resumable=True,
-            )
-        else:
-            data = fp.read()
-            req = api_pb2.SharedVolumePutFileRequest(
-                shared_volume_id=self._object_id, path=remote_path, data=data, resumable=True
-            )
-
-        t0 = time.monotonic()
-        while time.monotonic() - t0 < SHARED_VOLUME_PUT_FILE_CLIENT_TIMEOUT:
-            response = await retry_transient_errors(self._client.stub.SharedVolumePutFile, req)
-            if response.exists:
-                break
-        else:
-            raise modal.exception.TimeoutError(f"Uploading of {remote_path} timed out")
-
-        return data_size  # might be better if this is returned from the server
-
-    async def read_file(self, path: str) -> AsyncIterator[bytes]:
-        """Read a file from the shared volume"""
-        req = api_pb2.SharedVolumeGetFileRequest(shared_volume_id=self._object_id, path=path)
-        response = await retry_transient_errors(self._client.stub.SharedVolumeGetFile, req)
-        if response.WhichOneof("data_oneof") == "data":
-            yield response.data
-        else:
-            async for data in blob_iter(response.data_blob_id, self._client.stub):
-                yield data
-
-    async def iterdir(self, path: str) -> AsyncIterator[api_pb2.SharedVolumeListFilesEntry]:
-        """Iterate over all files in a directory in the shared volume.
-
-        * Passing a directory path lists all files in the directory (names are relative to the directory)
-        * Passing a file path returns a list containing only that file's listing description
-        * Passing a glob path (including at least one * or ** sequence) returns all files matching that glob path (using absolute paths)
-        """
-        req = api_pb2.SharedVolumeListFilesRequest(shared_volume_id=self._object_id, path=path)
-        async for batch in unary_stream(self._client.stub.SharedVolumeListFilesStream, req):
-            for entry in batch.entries:
-                yield entry
-
-    async def add_local_file(
-        self, local_path: Union[Path, str], remote_path: Optional[Union[str, PurePosixPath, None]] = None
-    ):
-        local_path = Path(local_path)
-        if remote_path is None:
-            remote_path = PurePosixPath("/", local_path.name).as_posix()
-        else:
-            remote_path = PurePosixPath(remote_path).as_posix()
-
-        with local_path.open("rb") as local_file:
-            return await self.write_file(remote_path, local_file)
-
-    async def add_local_dir(
-        self,
-        local_path: Union[Path, str],
-        remote_path: Optional[Union[str, PurePosixPath, None]] = None,
-    ):
-        _local_path = Path(local_path)
-        if remote_path is None:
-            remote_path = PurePosixPath("/", _local_path.name).as_posix()
-        else:
-            remote_path = PurePosixPath(remote_path).as_posix()
-
-        assert _local_path.is_dir()
-
-        def gen_transfers():
-            for subpath in _local_path.rglob("*"):
-                if subpath.is_dir():
-                    continue
-                relpath_str = subpath.relative_to(_local_path).as_posix()
-                yield self.add_local_file(subpath, PurePosixPath(remote_path, relpath_str))
-
-        await ConcurrencyPool(20).run_coros(gen_transfers(), return_exceptions=True)
-
-    async def listdir(self, path: str) -> List[api_pb2.SharedVolumeListFilesEntry]:
-        """List all files in a directory in the shared volume.
-
-        * Passing a directory path lists all files in the directory (names are relative to the directory)
-        * Passing a file path returns a list containing only that file's listing description
-        * Passing a glob path (including at least one * or ** sequence) returns all files matching that glob path (using absolute paths)
-        """
-        return [entry async for entry in self.iterdir(path)]
-
-    async def remove_file(self, path: str, recursive=False):
-        """Remove a file in a shared volume."""
-        req = api_pb2.SharedVolumeRemoveFileRequest(shared_volume_id=self._object_id, path=path, recursive=recursive)
-        await retry_transient_errors(self._client.stub.SharedVolumeRemoveFile, req)
-
-
-SharedVolumeHandle = synchronize_api(_SharedVolumeHandle)
-
-
-class _SharedVolume(_Provider[_SharedVolumeHandle]):
-    """A shared, writable file system accessible by one or more Modal functions.
-
-    By attaching this file system as a mount to one or more functions, they can
-    share and persist data with each other.
-
-    **Usage**
-
-    ```python
-    import modal
-
-    volume = modal.SharedVolume.new()
-    stub = modal.Stub()
-
-    @stub.function(shared_volumes={"/root/foo": volume})
-    def f():
-        pass
-
-    @stub.function(shared_volumes={"/root/goo": volume})
-    def g():
-        pass
-    ```
-
-    It is often the case that you would want to persist a shared volume object
-    separately from the currently attached app. Refer to the persistence
-    [guide section](/docs/guide/shared-volumes#persisting-volumes) to see how to
-    persist this object across app runs.
-    """
+from modal_utils.async_utils import synchronize_api
 
-    @typechecked
-    @staticmethod
-    def new(cloud: Optional[str] = None) -> "_SharedVolume":
-        """Construct a new shared volume, which is empty by default."""
+from .exception import deprecation_warning
+from .network_file_system import _NetworkFileSystem
 
-        async def _load(resolver: Resolver, existing_object_id: Optional[str]) -> _SharedVolumeHandle:
-            status_row = resolver.add_status_row()
-            if existing_object_id:
-                # Volume already exists; do nothing.
-                return _SharedVolumeHandle._from_id(existing_object_id, resolver.client, None)
-
-            cloud_provider = parse_cloud_provider(cloud) if cloud else None
-
-            status_row.message("Creating shared volume...")
-            req = api_pb2.SharedVolumeCreateRequest(app_id=resolver.app_id, cloud_provider=cloud_provider)
-            resp = await retry_transient_errors(resolver.client.stub.SharedVolumeCreate, req)
-            status_row.finish("Created shared volume.")
-            return _SharedVolumeHandle._from_id(resp.shared_volume_id, resolver.client, None)
-
-        return _SharedVolume._from_loader(_load, "SharedVolume()")
-
-    def __init__(self, cloud: Optional[str] = None) -> None:
-        """`SharedVolume(...)` is deprecated. Please use `SharedVolume.new(...)` instead."""
-        deprecation_warning(date(2023, 6, 30), self.__init__.__doc__)
-        obj = _SharedVolume.new(cloud)
+
+class _SharedVolume(_NetworkFileSystem):
+    def __init__(self, *args, **kwargs) -> None:
+        """`SharedVolume(...)` is deprecated. Please use `NetworkFileSystem.new(...)` instead."""
+        deprecation_warning(date(2023, 7, 5), _SharedVolume.__init__.__doc__, pending=True)
+        obj = _NetworkFileSystem.new(*args, **kwargs)
         self._init_from_other(obj)
 
     @staticmethod
-    def persisted(
-        label: str,
-        namespace=api_pb2.DEPLOYMENT_NAMESPACE_WORKSPACE,
-        environment_name: Optional[str] = None,
-        cloud: Optional[str] = None,
-    ) -> "_SharedVolume":
-        """Deploy a Modal app containing this object. This object can then be imported from other apps using
-        the returned reference, or by calling `modal.SharedVolume.from_name(label)` (or the equivalent method
-        on respective class).
-
-        **Example Usage**
-
-        ```python
-        import modal
-
-        volume = modal.SharedVolume.persisted("my-volume")
-
-        stub = modal.Stub()
-
-        # Volume refers to the same object, even across instances of `stub`.
-        @stub.function(shared_volumes={"/vol": volume})
-        def f():
-            pass
-        ```
-
-        """
-        return _SharedVolume.new(cloud)._persist(label, namespace, environment_name)
-
-    def persist(
-        self,
-        label: str,
-        namespace=api_pb2.DEPLOYMENT_NAMESPACE_WORKSPACE,
-        environment_name: Optional[str] = None,
-        cloud: Optional[str] = None,
-    ) -> "_SharedVolume":
-        """`SharedVolume().persist("my-volume")` is deprecated. Use `SharedVolume.persisted("my-volume")` instead."""
-        deprecation_warning(date(2023, 6, 30), self.persist.__doc__)
-        return self.persisted(label, namespace, environment_name, cloud)
+    def new(*args, **kwargs) -> "_NetworkFileSystem":
+        """`SharedVolume.new(...)` is deprecated. Please use `NetworkFileSystem.new(...)` instead."""
+        deprecation_warning(date(2023, 7, 5), _SharedVolume.new.__doc__, pending=True)
+        return _NetworkFileSystem.new(*args, **kwargs)
+
+    @staticmethod
+    def persisted(*args, **kwargs) -> _NetworkFileSystem:
+        """`SharedVolume.persisted(...)` is deprecated. Please use `NetworkFileSystem.persisted(...)` instead."""
+        deprecation_warning(date(2023, 7, 5), _SharedVolume.persisted.__doc__, pending=True)
+        return _NetworkFileSystem.persisted(*args, **kwargs)
 
 
 SharedVolume = synchronize_api(_SharedVolume)
```

## modal/stub.py

```diff
@@ -18,26 +18,26 @@
 from ._function_utils import FunctionInfo
 from ._ipython import is_notebook
 from ._output import OutputManager
 from .app import _App, _container_app, is_local
 from .client import _Client
 from .cls import make_remote_cls_constructors
 from .config import logger
-from .exception import InvalidError, deprecation_error
+from .exception import InvalidError, deprecation_error, deprecation_warning
 from .functions import _Function, _FunctionHandle, PartialFunction, _PartialFunction
 from .gpu import GPU_T
 from .image import _Image, _ImageHandle
 from .mount import _Mount
 from .object import _Provider
 from .proxy import _Proxy
 from .queue import _Queue
 from .runner import _run_stub
 from .schedule import Schedule
 from .secret import _Secret
-from .shared_volume import _SharedVolume
+from .network_file_system import _NetworkFileSystem
 from .volume import _Volume
 
 _default_image: _Image = _Image.debian_slim()
 
 
 class LocalEntrypoint:
     raw_f: Callable[..., Any]
@@ -441,15 +441,18 @@
         image: Optional[_Image] = None,  # The image to run as the container for the function
         schedule: Optional[Schedule] = None,  # An optional Modal Schedule for the function
         secret: Optional[_Secret] = None,  # An optional Modal Secret with environment variables for the container
         secrets: Sequence[_Secret] = (),  # Plural version of `secret` when multiple secrets are needed
         gpu: GPU_T = None,  # GPU specification as string ("any", "T4", "A10G", ...) or object (`modal.GPU.A100()`, ...)
         serialized: bool = False,  # Whether to send the function over using cloudpickle.
         mounts: Sequence[_Mount] = (),
-        shared_volumes: Dict[Union[str, os.PathLike], _SharedVolume] = {},
+        shared_volumes: Dict[
+            Union[str, os.PathLike], _NetworkFileSystem
+        ] = {},  # Deprecated, use `network_file_systems` instead
+        network_file_systems: Dict[Union[str, os.PathLike], _NetworkFileSystem] = {},
         allow_cross_region_volumes: bool = False,  # Whether using shared volumes from other regions is allowed.
         volumes: Dict[Union[str, os.PathLike], _Volume] = {},  # Experimental. Do not use!
         cpu: Optional[float] = None,  # How many CPU cores to request. This is a soft limit.
         memory: Optional[int] = None,  # How much memory to request, in MiB. This is a soft limit.
         proxy: Optional[_Proxy] = None,  # Reference to a Modal Proxy to use in front of this function.
         retries: Optional[Union[int, Retries]] = None,  # Number of times to retry each input in case of failure.
         concurrency_limit: Optional[int] = None,  # Limit for max concurrent containers running the function.
@@ -466,14 +469,22 @@
     ) -> Callable[[Union[_PartialFunction, Callable[..., Any]]], _FunctionHandle]:
         """Decorator to register a new Modal function with this stub."""
         if image is None:
             image = self._get_default_image()
 
         secrets = [*self._secrets, *secrets]
 
+        if shared_volumes:
+            deprecation_warning(
+                date(2023, 7, 5),
+                "`shared_volumes` is deprecated. Use the argument `network_file_systems` instead.",
+                pending=True,
+            )
+            network_file_systems = {**network_file_systems, **shared_volumes}
+
         def wrapped(f: Union[_PartialFunction, Callable[..., Any]]) -> _FunctionHandle:
             is_generator_override: Optional[bool] = is_generator
 
             if isinstance(f, _PartialFunction):
                 f.wrapped = True
                 info = FunctionInfo(f.raw_f, serialized=serialized, name_override=name)
                 raw_f = f.raw_f
@@ -525,15 +536,15 @@
                 image=image,
                 secret=secret,
                 secrets=secrets,
                 schedule=schedule,
                 is_generator=is_generator_override,
                 gpu=gpu,
                 mounts=[*self._mounts, *mounts],
-                shared_volumes=shared_volumes,
+                network_file_systems=network_file_systems,
                 allow_cross_region_volumes=allow_cross_region_volumes,
                 volumes=volumes,
                 memory=memory,
                 proxy=proxy,
                 retries=retries,
                 concurrency_limit=concurrency_limit,
                 container_idle_timeout=container_idle_timeout,
@@ -613,15 +624,18 @@
         self,
         image: Optional[_Image] = None,  # The image to run as the container for the function
         secret: Optional[_Secret] = None,  # An optional Modal Secret with environment variables for the container
         secrets: Sequence[_Secret] = (),  # Plural version of `secret` when multiple secrets are needed
         gpu: GPU_T = None,  # GPU specification as string ("any", "T4", "A10G", ...) or object (`modal.GPU.A100()`, ...)
         serialized: bool = False,  # Whether to send the function over using cloudpickle.
         mounts: Sequence[_Mount] = (),
-        shared_volumes: Dict[Union[str, os.PathLike], _SharedVolume] = {},
+        shared_volumes: Dict[
+            Union[str, os.PathLike], _NetworkFileSystem
+        ] = {},  # Deprecated, use `network_file_systems` instead
+        network_file_systems: Dict[Union[str, os.PathLike], _NetworkFileSystem] = {},
         allow_cross_region_volumes: bool = False,  # Whether using shared volumes from other regions is allowed.
         volumes: Dict[Union[str, os.PathLike], _Volume] = {},  # Experimental. Do not use!
         cpu: Optional[float] = None,  # How many CPU cores to request. This is a soft limit.
         memory: Optional[int] = None,  # How much memory to request, in MiB. This is a soft limit.
         proxy: Optional[_Proxy] = None,  # Reference to a Modal Proxy to use in front of this function.
         retries: Optional[Union[int, Retries]] = None,  # Number of times to retry each input in case of failure.
         concurrency_limit: Optional[int] = None,  # Limit for max concurrent containers running the function.
@@ -644,14 +658,15 @@
                         image=image,
                         secret=secret,
                         secrets=secrets,
                         gpu=gpu,
                         serialized=serialized,
                         mounts=mounts,
                         shared_volumes=shared_volumes,
+                        network_file_systems=network_file_systems,
                         allow_cross_region_volumes=allow_cross_region_volumes,
                         volumes=volumes,
                         cpu=cpu,
                         memory=memory,
                         proxy=proxy,
                         retries=retries,
                         concurrency_limit=concurrency_limit,
```

## modal/stub.pyi

```diff
@@ -2,20 +2,20 @@
 import modal._output
 import modal.app
 import modal.client
 import modal.functions
 import modal.gpu
 import modal.image
 import modal.mount
+import modal.network_file_system
 import modal.object
 import modal.proxy
 import modal.retries
 import modal.schedule
 import modal.secret
-import modal.shared_volume
 import modal.volume
 import os
 import synchronicity.combined_types
 import typing
 import typing_extensions
 
 class LocalEntrypoint:
@@ -121,30 +121,30 @@
     @property
     def registered_web_endpoints(self) -> typing.List[str]:
         ...
 
     def local_entrypoint(self, name: typing.Union[str, None] = None) -> typing.Callable[[typing.Callable[..., typing.Any]], None]:
         ...
 
-    def function(self, image: typing.Union[modal.image._Image, None] = None, schedule: typing.Union[modal.schedule.Schedule, None] = None, secret: typing.Union[modal.secret._Secret, None] = None, secrets: typing.Sequence[modal.secret._Secret] = (), gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, serialized: bool = False, mounts: typing.Sequence[modal.mount._Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.shared_volume._SharedVolume] = {}, allow_cross_region_volumes: bool = False, volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume._Volume] = {}, cpu: typing.Union[float, None] = None, memory: typing.Union[int, None] = None, proxy: typing.Union[modal.proxy._Proxy, None] = None, retries: typing.Union[int, modal.retries.Retries, None] = None, concurrency_limit: typing.Union[int, None] = None, container_idle_timeout: typing.Union[int, None] = None, timeout: typing.Union[int, None] = None, interactive: bool = False, keep_warm: typing.Union[int, None] = None, name: typing.Union[str, None] = None, is_generator: typing.Union[bool, None] = None, cloud: typing.Union[str, None] = None, _cls: typing.Union[type, None] = None) -> typing.Callable[[typing.Union[modal.functions._PartialFunction, typing.Callable[..., typing.Any]]], modal.functions._FunctionHandle]:
+    def function(self, image: typing.Union[modal.image._Image, None] = None, schedule: typing.Union[modal.schedule.Schedule, None] = None, secret: typing.Union[modal.secret._Secret, None] = None, secrets: typing.Sequence[modal.secret._Secret] = (), gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, serialized: bool = False, mounts: typing.Sequence[modal.mount._Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system._NetworkFileSystem] = {}, network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system._NetworkFileSystem] = {}, allow_cross_region_volumes: bool = False, volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume._Volume] = {}, cpu: typing.Union[float, None] = None, memory: typing.Union[int, None] = None, proxy: typing.Union[modal.proxy._Proxy, None] = None, retries: typing.Union[int, modal.retries.Retries, None] = None, concurrency_limit: typing.Union[int, None] = None, container_idle_timeout: typing.Union[int, None] = None, timeout: typing.Union[int, None] = None, interactive: bool = False, keep_warm: typing.Union[int, None] = None, name: typing.Union[str, None] = None, is_generator: typing.Union[bool, None] = None, cloud: typing.Union[str, None] = None, _cls: typing.Union[type, None] = None) -> typing.Callable[[typing.Union[modal.functions._PartialFunction, typing.Callable[..., typing.Any]]], modal.functions._FunctionHandle]:
         ...
 
     def web_endpoint(self, method: str = 'GET', label: typing.Union[str, None] = None, wait_for_response: bool = True):
         ...
 
     def asgi_app(self, label: typing.Union[str, None] = None, wait_for_response: bool = True):
         ...
 
     def wsgi_app(self, label: typing.Union[str, None] = None, wait_for_response: bool = True):
         ...
 
     async def interactive_shell(self, cmd=None, image=None, **kwargs):
         ...
 
-    def cls(self, image: typing.Union[modal.image._Image, None] = None, secret: typing.Union[modal.secret._Secret, None] = None, secrets: typing.Sequence[modal.secret._Secret] = (), gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, serialized: bool = False, mounts: typing.Sequence[modal.mount._Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.shared_volume._SharedVolume] = {}, allow_cross_region_volumes: bool = False, volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume._Volume] = {}, cpu: typing.Union[float, None] = None, memory: typing.Union[int, None] = None, proxy: typing.Union[modal.proxy._Proxy, None] = None, retries: typing.Union[int, modal.retries.Retries, None] = None, concurrency_limit: typing.Union[int, None] = None, container_idle_timeout: typing.Union[int, None] = None, timeout: typing.Union[int, None] = None, interactive: bool = False, keep_warm: typing.Union[int, None] = None, cloud: typing.Union[str, None] = None) -> typing.Callable[[CLS_T], CLS_T]:
+    def cls(self, image: typing.Union[modal.image._Image, None] = None, secret: typing.Union[modal.secret._Secret, None] = None, secrets: typing.Sequence[modal.secret._Secret] = (), gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, serialized: bool = False, mounts: typing.Sequence[modal.mount._Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system._NetworkFileSystem] = {}, network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system._NetworkFileSystem] = {}, allow_cross_region_volumes: bool = False, volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume._Volume] = {}, cpu: typing.Union[float, None] = None, memory: typing.Union[int, None] = None, proxy: typing.Union[modal.proxy._Proxy, None] = None, retries: typing.Union[int, modal.retries.Retries, None] = None, concurrency_limit: typing.Union[int, None] = None, container_idle_timeout: typing.Union[int, None] = None, timeout: typing.Union[int, None] = None, interactive: bool = False, keep_warm: typing.Union[int, None] = None, cloud: typing.Union[str, None] = None) -> typing.Callable[[CLS_T], CLS_T]:
         ...
 
     def _hydrate_function_handles(self, client: modal.client._Client, container_app: modal.app._App):
         ...
 
     def _get_deduplicated_function_mounts(self, mounts: typing.Dict[str, modal.mount._Mount]):
         ...
@@ -254,15 +254,15 @@
     @property
     def registered_web_endpoints(self) -> typing.List[str]:
         ...
 
     def local_entrypoint(self, name: typing.Union[str, None] = None) -> typing.Callable[[typing.Callable[..., typing.Any]], None]:
         ...
 
-    def function(self, image: typing.Union[modal.image.Image, None] = None, schedule: typing.Union[modal.schedule.Schedule, None] = None, secret: typing.Union[modal.secret.Secret, None] = None, secrets: typing.Sequence[modal.secret.Secret] = (), gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, serialized: bool = False, mounts: typing.Sequence[modal.mount.Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.shared_volume.SharedVolume] = {}, allow_cross_region_volumes: bool = False, volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume.Volume] = {}, cpu: typing.Union[float, None] = None, memory: typing.Union[int, None] = None, proxy: typing.Union[modal.proxy.Proxy, None] = None, retries: typing.Union[int, modal.retries.Retries, None] = None, concurrency_limit: typing.Union[int, None] = None, container_idle_timeout: typing.Union[int, None] = None, timeout: typing.Union[int, None] = None, interactive: bool = False, keep_warm: typing.Union[int, None] = None, name: typing.Union[str, None] = None, is_generator: typing.Union[bool, None] = None, cloud: typing.Union[str, None] = None, _cls: typing.Union[type, None] = None) -> typing.Callable[[typing.Union[modal.functions.PartialFunction, typing.Callable[..., typing.Any]]], modal.functions.FunctionHandle]:
+    def function(self, image: typing.Union[modal.image.Image, None] = None, schedule: typing.Union[modal.schedule.Schedule, None] = None, secret: typing.Union[modal.secret.Secret, None] = None, secrets: typing.Sequence[modal.secret.Secret] = (), gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, serialized: bool = False, mounts: typing.Sequence[modal.mount.Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system.NetworkFileSystem] = {}, network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system.NetworkFileSystem] = {}, allow_cross_region_volumes: bool = False, volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume.Volume] = {}, cpu: typing.Union[float, None] = None, memory: typing.Union[int, None] = None, proxy: typing.Union[modal.proxy.Proxy, None] = None, retries: typing.Union[int, modal.retries.Retries, None] = None, concurrency_limit: typing.Union[int, None] = None, container_idle_timeout: typing.Union[int, None] = None, timeout: typing.Union[int, None] = None, interactive: bool = False, keep_warm: typing.Union[int, None] = None, name: typing.Union[str, None] = None, is_generator: typing.Union[bool, None] = None, cloud: typing.Union[str, None] = None, _cls: typing.Union[type, None] = None) -> typing.Callable[[typing.Union[modal.functions.PartialFunction, typing.Callable[..., typing.Any]]], modal.functions.FunctionHandle]:
         ...
 
     def web_endpoint(self, method: str = 'GET', label: typing.Union[str, None] = None, wait_for_response: bool = True):
         ...
 
     def asgi_app(self, label: typing.Union[str, None] = None, wait_for_response: bool = True):
         ...
@@ -275,15 +275,15 @@
             ...
 
         async def aio(self, *args, **kwargs):
             ...
 
     interactive_shell: __interactive_shell_spec
 
-    def cls(self, image: typing.Union[modal.image.Image, None] = None, secret: typing.Union[modal.secret.Secret, None] = None, secrets: typing.Sequence[modal.secret.Secret] = (), gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, serialized: bool = False, mounts: typing.Sequence[modal.mount.Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.shared_volume.SharedVolume] = {}, allow_cross_region_volumes: bool = False, volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume.Volume] = {}, cpu: typing.Union[float, None] = None, memory: typing.Union[int, None] = None, proxy: typing.Union[modal.proxy.Proxy, None] = None, retries: typing.Union[int, modal.retries.Retries, None] = None, concurrency_limit: typing.Union[int, None] = None, container_idle_timeout: typing.Union[int, None] = None, timeout: typing.Union[int, None] = None, interactive: bool = False, keep_warm: typing.Union[int, None] = None, cloud: typing.Union[str, None] = None) -> typing.Callable[[CLS_T], CLS_T]:
+    def cls(self, image: typing.Union[modal.image.Image, None] = None, secret: typing.Union[modal.secret.Secret, None] = None, secrets: typing.Sequence[modal.secret.Secret] = (), gpu: typing.Union[None, bool, str, modal.gpu._GPUConfig] = None, serialized: bool = False, mounts: typing.Sequence[modal.mount.Mount] = (), shared_volumes: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system.NetworkFileSystem] = {}, network_file_systems: typing.Dict[typing.Union[str, os.PathLike], modal.network_file_system.NetworkFileSystem] = {}, allow_cross_region_volumes: bool = False, volumes: typing.Dict[typing.Union[str, os.PathLike], modal.volume.Volume] = {}, cpu: typing.Union[float, None] = None, memory: typing.Union[int, None] = None, proxy: typing.Union[modal.proxy.Proxy, None] = None, retries: typing.Union[int, modal.retries.Retries, None] = None, concurrency_limit: typing.Union[int, None] = None, container_idle_timeout: typing.Union[int, None] = None, timeout: typing.Union[int, None] = None, interactive: bool = False, keep_warm: typing.Union[int, None] = None, cloud: typing.Union[str, None] = None) -> typing.Callable[[CLS_T], CLS_T]:
         ...
 
     def _hydrate_function_handles(self, client: modal.client.Client, container_app: modal.app.App):
         ...
 
     def _get_deduplicated_function_mounts(self, mounts: typing.Dict[str, modal.mount.Mount]):
         ...
```

## modal/cli/entry_point.py

```diff
@@ -2,17 +2,17 @@
 import typer
 
 from modal.cli import run
 from modal.cli.environment import environment_cli
 
 from .app import app_cli
 from .config import config_cli
+from .network_file_system import nfs_cli, vol_cli
 from .secret import secret_cli
 from .token import token_cli
-from .volume import volume_cli
 from .profile import profile_cli
 
 
 def version_callback(value: bool):
     if value:
         from modal_version import __version__
 
@@ -40,18 +40,19 @@
 ):
     pass
 
 
 entrypoint_cli_typer.add_typer(app_cli)
 entrypoint_cli_typer.add_typer(config_cli)
 entrypoint_cli_typer.add_typer(environment_cli)
+entrypoint_cli_typer.add_typer(nfs_cli)
+entrypoint_cli_typer.add_typer(vol_cli)
 entrypoint_cli_typer.add_typer(profile_cli)
 entrypoint_cli_typer.add_typer(secret_cli)
 entrypoint_cli_typer.add_typer(token_cli)
-entrypoint_cli_typer.add_typer(volume_cli)
 
 entrypoint_cli_typer.command("deploy", help="Deploy a Modal stub as an application.", no_args_is_help=True)(run.deploy)
 entrypoint_cli_typer.command("serve", no_args_is_help=True)(run.serve)
 entrypoint_cli_typer.command("shell", no_args_is_help=True)(run.shell)
 
 entrypoint_cli = typer.main.get_command(entrypoint_cli_typer)
 entrypoint_cli.add_command(run.run, name="run")  # type: ignore
```

## modal_version/_version_generated.py

```diff
@@ -1,2 +1,2 @@
 # Copyright Modal Labs 2023
-build_number = 2581
+build_number = 2586
```

## Comparing `client_test/shared_volume_test.py` & `client_test/network_file_system_test.py`

 * *Files 15% similar despite different names*

```diff
@@ -1,123 +1,127 @@
 # Copyright Modal Labs 2022
 from unittest import mock
 
 import pytest
 
 import modal
-from modal.exception import DeprecationError, InvalidError
-from modal.shared_volume import SharedVolumeHandle
+from modal.exception import PendingDeprecationError, InvalidError
+from modal.network_file_system import NetworkFileSystemHandle
 
 from .supports.skip import skip_windows
 
 
 def dummy():
     pass
 
 
-def test_shared_volume_files(client, test_dir, servicer):
+def test_network_file_system_files(client, test_dir, servicer):
     stub = modal.Stub()
 
     dummy_modal = stub.function(
-        shared_volumes={"/root/foo": modal.SharedVolume.new()},
+        network_file_systems={"/root/foo": modal.NetworkFileSystem.new()},
     )(dummy)
 
     with stub.run(client=client):
         dummy_modal.call()
 
 
 @skip_windows("TODO: implement client-side path check on Windows.")
-def test_shared_volume_bad_paths(client, test_dir, servicer):
+def test_network_file_system_bad_paths(client, test_dir, servicer):
     stub = modal.Stub()
 
     def _f():
         pass
 
-    dummy_modal = stub.function(shared_volumes={"/root/../../foo": modal.SharedVolume.new()})(dummy)
+    dummy_modal = stub.function(network_file_systems={"/root/../../foo": modal.NetworkFileSystem.new()})(dummy)
     with pytest.raises(InvalidError):
         with stub.run(client=client):
             dummy_modal.call()
 
-    dummy_modal = stub.function(shared_volumes={"/": modal.SharedVolume.new()})(dummy)
+    dummy_modal = stub.function(network_file_systems={"/": modal.NetworkFileSystem.new()})(dummy)
     with pytest.raises(InvalidError):
         with stub.run(client=client):
             dummy_modal.call()
 
-    dummy_modal = stub.function(shared_volumes={"/tmp/": modal.SharedVolume.new()})(dummy)
+    dummy_modal = stub.function(network_file_systems={"/tmp/": modal.NetworkFileSystem.new()})(dummy)
     with pytest.raises(InvalidError):
         with stub.run(client=client):
             dummy_modal.call()
 
 
-def test_shared_volume_handle_single_file(client, tmp_path, servicer):
+def test_network_file_system_handle_single_file(client, tmp_path, servicer):
     stub = modal.Stub()
-    stub.vol = modal.SharedVolume.new()
+    stub.vol = modal.NetworkFileSystem.new()
     local_file_path = tmp_path / "some_file"
     local_file_path.write_text("hello world")
 
     with stub.run(client=client) as app:
         handle = app.vol
-        assert isinstance(handle, SharedVolumeHandle)
+        assert isinstance(handle, NetworkFileSystemHandle)
         handle.add_local_file(local_file_path)
         handle.add_local_file(local_file_path.as_posix(), remote_path="/foo/other_destination")
 
     assert servicer.shared_volume_files[handle.object_id].keys() == {
         "/some_file",
         "/foo/other_destination",
     }
     assert servicer.shared_volume_files[handle.object_id]["/some_file"].data == b"hello world"
     assert servicer.shared_volume_files[handle.object_id]["/foo/other_destination"].data == b"hello world"
 
 
 @pytest.mark.asyncio
-async def test_shared_volume_handle_dir(client, tmp_path, servicer):
+async def test_network_file_system_handle_dir(client, tmp_path, servicer):
     stub = modal.Stub()
-    stub.vol = modal.SharedVolume.new()
+    stub.vol = modal.NetworkFileSystem.new()
     local_dir = tmp_path / "some_dir"
     local_dir.mkdir()
     (local_dir / "smol").write_text("###")
 
     subdir = local_dir / "subdir"
     subdir.mkdir()
     (subdir / "other").write_text("####")
 
     with stub.run(client=client) as app:
         handle = app.vol
-        assert isinstance(handle, SharedVolumeHandle)
+        assert isinstance(handle, NetworkFileSystemHandle)
         handle.add_local_dir(local_dir)
 
     assert servicer.shared_volume_files[handle.object_id].keys() == {
         "/some_dir/smol",
         "/some_dir/subdir/other",
     }
     assert servicer.shared_volume_files[handle.object_id]["/some_dir/smol"].data == b"###"
     assert servicer.shared_volume_files[handle.object_id]["/some_dir/subdir/other"].data == b"####"
 
 
 @pytest.mark.asyncio
-async def test_shared_volume_handle_big_file(client, tmp_path, servicer, blob_server, *args):
-    with mock.patch("modal.shared_volume.LARGE_FILE_LIMIT", 10):
+async def test_network_file_system_handle_big_file(client, tmp_path, servicer, blob_server, *args):
+    with mock.patch("modal.network_file_system.LARGE_FILE_LIMIT", 10):
         stub = modal.Stub()
-        stub.vol = modal.SharedVolume.new()
+        stub.vol = modal.NetworkFileSystem.new()
         local_file_path = tmp_path / "bigfile"
         local_file_path.write_text("hello world, this is a lot of text")
 
         async with stub.run(client=client) as app:
             handle = app.vol
-            assert isinstance(handle, SharedVolumeHandle)
+            assert isinstance(handle, NetworkFileSystemHandle)
             await handle.add_local_file.aio(local_file_path)
 
         assert servicer.shared_volume_files[handle.object_id].keys() == {"/bigfile"}
         assert servicer.shared_volume_files[handle.object_id]["/bigfile"].data == b""
         assert servicer.shared_volume_files[handle.object_id]["/bigfile"].data_blob_id == "bl-1"
 
         _, blobs = blob_server
         assert blobs["bl-1"] == b"hello world, this is a lot of text"
 
 
 def test_old_syntax(client, servicer):
     stub = modal.Stub()
-    with pytest.warns(DeprecationError):
-        stub.vol = modal.SharedVolume()
+    with pytest.warns(PendingDeprecationError):
+        stub.vol1 = modal.SharedVolume()
+    with pytest.warns(PendingDeprecationError):
+        stub.vol2 = modal.SharedVolume.new()
+    stub.vol3 = modal.NetworkFileSystem.new()
     with stub.run(client=client) as app:
-        handle = app.vol
-        assert isinstance(handle, SharedVolumeHandle)
+        assert isinstance(app.vol1, NetworkFileSystemHandle)
+        assert isinstance(app.vol2, NetworkFileSystemHandle)
+        assert isinstance(app.vol3, NetworkFileSystemHandle)
```

## Comparing `modal/shared_volume.pyi` & `modal/network_file_system.pyi`

 * *Files 5% similar despite different names*

```diff
@@ -1,15 +1,15 @@
 import __main__
 import modal.object
 import modal_proto.api_pb2
 import pathlib
 import typing
 import typing_extensions
 
-class _SharedVolumeHandle(modal.object._Handle):
+class _NetworkFileSystemHandle(modal.object._Handle):
     async def write_file(self, remote_path: str, fp: typing.BinaryIO) -> int:
         ...
 
     def read_file(self, path: str) -> typing.AsyncIterator[bytes]:
         ...
 
     def iterdir(self, path: str) -> typing.AsyncIterator[modal_proto.api_pb2.SharedVolumeListFilesEntry]:
@@ -24,15 +24,15 @@
     async def listdir(self, path: str) -> typing.List[modal_proto.api_pb2.SharedVolumeListFilesEntry]:
         ...
 
     async def remove_file(self, path: str, recursive=False):
         ...
 
 
-class SharedVolumeHandle(modal.object.Handle):
+class NetworkFileSystemHandle(modal.object.Handle):
     def __init__(self):
         ...
 
     class __write_file_spec(typing_extensions.Protocol):
         def __call__(self, remote_path: str, fp: typing.BinaryIO) -> int:
             ...
 
@@ -92,37 +92,34 @@
 
         async def aio(self, *args, **kwargs):
             ...
 
     remove_file: __remove_file_spec
 
 
-class _SharedVolume(modal.object._Provider[_SharedVolumeHandle]):
+class _NetworkFileSystem(modal.object._Provider[_NetworkFileSystemHandle]):
     @staticmethod
-    def new(cloud: typing.Union[str, None] = None) -> _SharedVolume:
-        ...
-
-    def __init__(self, cloud: typing.Union[str, None] = None) -> None:
+    def new(cloud: typing.Union[str, None] = None) -> _NetworkFileSystem:
         ...
 
     @staticmethod
-    def persisted(label: str, namespace=1, environment_name: typing.Union[str, None] = None, cloud: typing.Union[str, None] = None) -> _SharedVolume:
+    def persisted(label: str, namespace=1, environment_name: typing.Union[str, None] = None, cloud: typing.Union[str, None] = None) -> _NetworkFileSystem:
         ...
 
-    def persist(self, label: str, namespace=1, environment_name: typing.Union[str, None] = None, cloud: typing.Union[str, None] = None) -> _SharedVolume:
+    def persist(self, label: str, namespace=1, environment_name: typing.Union[str, None] = None, cloud: typing.Union[str, None] = None) -> _NetworkFileSystem:
         ...
 
 
-class SharedVolume(modal.object.Provider[SharedVolumeHandle]):
-    def __init__(self, cloud: typing.Union[str, None] = None) -> None:
+class NetworkFileSystem(modal.object.Provider[NetworkFileSystemHandle]):
+    def __init__(self):
         ...
 
     @staticmethod
-    def new(cloud: typing.Union[str, None] = None) -> SharedVolume:
+    def new(cloud: typing.Union[str, None] = None) -> NetworkFileSystem:
         ...
 
     @staticmethod
-    def persisted(label: str, namespace=1, environment_name: typing.Union[str, None] = None, cloud: typing.Union[str, None] = None) -> SharedVolume:
+    def persisted(label: str, namespace=1, environment_name: typing.Union[str, None] = None, cloud: typing.Union[str, None] = None) -> NetworkFileSystem:
         ...
 
-    def persist(self, label: str, namespace=1, environment_name: typing.Union[str, None] = None, cloud: typing.Union[str, None] = None) -> SharedVolume:
+    def persist(self, label: str, namespace=1, environment_name: typing.Union[str, None] = None, cloud: typing.Union[str, None] = None) -> NetworkFileSystem:
         ...
```

## Comparing `modal/cli/volume.py` & `modal/cli/network_file_system.py`

 * *Files 6% similar despite different names*

```diff
@@ -20,25 +20,32 @@
 
 import modal
 from modal._location import display_location
 from modal._output import step_progress, step_completed
 from modal.environments import ensure_env
 from modal.cli.utils import display_table, ENV_OPTION
 from modal.client import _Client
-from modal.shared_volume import _SharedVolumeHandle, _SharedVolume
+from modal.network_file_system import _NetworkFileSystemHandle, _NetworkFileSystem
 from modal_proto import api_pb2
 from modal_utils.async_utils import synchronizer
 from modal_utils.grpc_utils import retry_transient_errors
 
 FileType = api_pb2.SharedVolumeListFilesEntry.FileType
 
-volume_cli = Typer(name="volume", help="Read and edit shared volumes.", no_args_is_help=True)
 
+def depr_cmd(cmd):
+    return f"DEPRECATED! Use `{cmd}` instead!"
 
-@volume_cli.command(name="list", help="List the names of all shared volumes.")
+
+nfs_cli = Typer(name="nfs", help="Read and edit shared volumes.", no_args_is_help=True)
+vol_cli = Typer(name="volume", help=depr_cmd("modal nfs"), no_args_is_help=True)
+
+
+@vol_cli.command(name="list", help=depr_cmd("modal nfs list"), deprecated=True)
+@nfs_cli.command(name="list", help="List the names of all shared volumes.")
 @synchronizer.create_blocking
 async def list(env: Optional[str] = ENV_OPTION, json: Optional[bool] = False):
     env = ensure_env(env)
 
     client = await _Client.from_env()
     response = await retry_transient_errors(
         client.stub.SharedVolumeList, api_pb2.SharedVolumeListRequest(environment_name=env)
@@ -56,45 +63,47 @@
             ]
         )
     display_table(column_names, rows, json, title=f"Shared Volumes{env_part}")
 
 
 def gen_usage_code(label):
     return f"""
-@stub.function(shared_volumes={{"/my_vol": modal.SharedVolume.from_name("{label}")}})
+@stub.function(network_file_systems={{"/my_vol": modal.NetworkFileSystem.from_name("{label}")}})
 def some_func():
     os.listdir("/my_vol")
 """
 
 
-@volume_cli.command(name="create", help="Create a named shared volume.")
+@vol_cli.command(name="create", help=depr_cmd("modal nfs create"), deprecated=True)
+@nfs_cli.command(name="create", help="Create a named shared volume.")
 def create(
     name: str,
     cloud: str = typer.Option("aws", help="Cloud provider to create the volume in. One of aws|gcp."),
     env: Optional[str] = ENV_OPTION,
 ):
     ensure_env(env)
-    volume = modal.SharedVolume.new(cloud=cloud)
+    volume = modal.NetworkFileSystem.new(cloud=cloud)
     volume._deploy(name, environment_name=env)
     console = Console()
     console.print(f"Created volume '{name}' in {cloud.upper()}. \n\nCode example:\n")
     usage = Syntax(gen_usage_code(name), "python")
     console.print(usage)
 
 
-async def _volume_from_name(deployment_name: str) -> _SharedVolumeHandle:
-    shared_volume = await _SharedVolume.lookup(
+async def _volume_from_name(deployment_name: str) -> _NetworkFileSystemHandle:
+    network_file_system = await _NetworkFileSystem.lookup(
         deployment_name, environment_name=None
     )  # environment None will take value from config
-    if not isinstance(shared_volume, _SharedVolumeHandle):
+    if not isinstance(network_file_system, _NetworkFileSystemHandle):
         raise Exception("The specified app entity is not a shared volume")
-    return shared_volume
+    return network_file_system
 
 
-@volume_cli.command(name="ls", help="List files and directories in a shared volume.")
+@vol_cli.command(name="ls", help=depr_cmd("modal nfs ls"), deprecated=True)
+@nfs_cli.command(name="ls", help="List files and directories in a shared volume.")
 @synchronizer.create_blocking
 async def ls(
     volume_name: str,
     path: str = typer.Argument(default="/"),
     env: Optional[str] = ENV_OPTION,
 ):
     ensure_env(env)
@@ -122,15 +131,16 @@
         for entry in entries:
             print(entry.path)
 
 
 PIPE_PATH = Path("-")
 
 
-@volume_cli.command(
+@vol_cli.command(name="put", help=depr_cmd("modal nfs put"), deprecated=True)
+@nfs_cli.command(
     name="put",
     help="""Upload a file or directory to a shared volume.
 
 Remote parent directories will be created as needed.
 
 Ending the REMOTE_PATH with a forward slash (/), it's assumed to be a directory and the file will be uploaded with its current name under that directory.
 """,
@@ -166,15 +176,17 @@
 
 
 class CliError(Exception):
     def __init__(self, message):
         self.message = message
 
 
-async def _glob_download(volume: _SharedVolumeHandle, remote_glob_path: str, local_destination: Path, overwrite: bool):
+async def _glob_download(
+    volume: _NetworkFileSystemHandle, remote_glob_path: str, local_destination: Path, overwrite: bool
+):
     q: asyncio.Queue[Tuple[Optional[Path], Optional[api_pb2.SharedVolumeListFilesEntry]]] = asyncio.Queue()
 
     async def producer():
         async for entry in volume.iterdir(remote_glob_path):
             output_path = local_destination / entry.path
             if output_path.exists():
                 if overwrite:
@@ -211,15 +223,16 @@
     tasks.append(asyncio.create_task(producer()))
     for _ in range(10):
         tasks.append(asyncio.create_task(consumer()))
 
     await asyncio.gather(*tasks)
 
 
-@volume_cli.command(name="get")
+@vol_cli.command(name="get", help=depr_cmd("modal nfs get"), deprecated=True)
+@nfs_cli.command(name="get")
 @synchronizer.create_blocking
 async def get(
     volume_name: str,
     remote_path: str,
     local_destination: str = typer.Argument("."),
     force: bool = False,
     env: Optional[str] = ENV_OPTION,
@@ -277,15 +290,16 @@
         if exc.status in (Status.NOT_FOUND, Status.INVALID_ARGUMENT):
             raise UsageError(exc.message)
 
     if destination != PIPE_PATH:
         print(f"Wrote {b} bytes to '{destination}'", file=sys.stderr)
 
 
-@volume_cli.command(name="rm", help="Delete a file or directory from a shared volume.")
+@vol_cli.command(name="rm", help=depr_cmd("modal nfs rm"), deprecated=True)
+@nfs_cli.command(name="rm", help="Delete a file or directory from a shared volume.")
 @synchronizer.create_blocking
 async def rm(
     volume_name: str,
     remote_path: str,
     recursive: bool = typer.Option(False, "-r", "--recursive", help="Delete directory recursively"),
     env: Optional[str] = ENV_OPTION,
 ):
```

## Comparing `modal_client-0.50.2581.dist-info/LICENSE` & `modal_client-0.50.2586.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `modal_client-0.50.2581.dist-info/METADATA` & `modal_client-0.50.2586.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: modal-client
-Version: 0.50.2581
+Version: 0.50.2586
 Summary: Python client library for Modal
 Author: Modal Labs
 Author-email: erik@modal.com
 Project-URL: Homepage, https://modal.com
 Keywords: modal,client,cloud,serverless,infrastructure
 Classifier: Topic :: System :: Distributed Computing
 Classifier: Operating System :: OS Independent
```

## Comparing `modal_client-0.50.2581.dist-info/RECORD` & `modal_client-0.50.2586.dist-info/RECORD`

 * *Files 10% similar despite different names*

```diff
@@ -1,50 +1,50 @@
 client_test/__init__.py,sha256=waLjl5c6IPDhSsdWAm9Bji4e2PVxamYABKAze6CHVXY,28
 client_test/aio_test.py,sha256=EcUtn4yqdKeXpWb854v86k_n--grUnJA7sCoVjKsiUE,392
 client_test/async_utils_test.py,sha256=vhWOb8jRl3illb7UIVSVWnM1PeXrPADWKu8Ko4szsI8,5409
 client_test/blob_test.py,sha256=SSWnrbrpgAAmcU4txClK5ycgKuHwYTKLzO8ryVa3dyQ,1474
 client_test/cli_imports_test.py,sha256=CJYkSI0gF8Zz32xD24JWX2LSlI_jXbwQ_Osqxh80xvc,3979
-client_test/cli_test.py,sha256=p8n-99O0WJAarpRVIxJP1q0-MoO3ePp10JMw1r-acB0,16686
+client_test/cli_test.py,sha256=DxP0GF8ByTuo9NNrMusFhdqDVghwm-26ERIKjoSKkwg,16841
 client_test/client_test.py,sha256=AVDt8PzLbr5QoYUsA94jfQ8GeoQwEhT81xGUQf2uzAA,4768
 client_test/cls_test.py,sha256=yWzlN5Cnys8Cc7qZfqgKQW1Pu6iPaQ9sD7SJs7iz6O4,4422
 client_test/config_test.py,sha256=nXcFcqYZnAord4OOV1HDTGUCav0a0ga4ce80DSijR4w,2622
 client_test/conftest.py,sha256=bYC4IyHdPCR3oOow4MmdEdztQLNBovONLK7IVNpMfMg,32707
 client_test/container_app_test.py,sha256=2BmMqwseKd6ZzNUA1vzUpxqks3NusAs9CLAEgW0KEks,4555
 client_test/container_test.py,sha256=OK3AbbTRyQ0gCCw5rVpdBT4pBPyOkG1W-63xm-FwWas,24810
 client_test/cpu_test.py,sha256=CoJhxhHH9ZjZh3wnpKFfPku2Vq6xIZJoB6j7O-v2278,405
 client_test/deprecation_test.py,sha256=I74YCSVxiNnrMz7XFFm4bzZWpdkFcGQAVlDxSLCcqmE,1086
 client_test/e2e_test.py,sha256=UEDenuTYU7laTIDNurz-dsta_BuFX76sgHn7Ul16v_0,2182
 client_test/error_test.py,sha256=bDxKUwE4WJ1qwAfm0Jlzqkb3WetF0YLxplrgjevAv4U,165
 client_test/function_serialization_test.py,sha256=cVwwiXcyRWWlBIC1gTjreTCFKwZYvlEAtrYQx__1x7A,964
-client_test/function_test.py,sha256=U2eKp1yB4GeCmCFksHmglsYNBTyREhbBqKJkRHAZ7OM,16973
+client_test/function_test.py,sha256=e5FWf6BrHZ_itIRYk-Pe_dlPIfz8JsUdwAjh30TxrQc,17347
 client_test/gpu_test.py,sha256=0sseHEuRKQJyYAMGWMO8GtO_J_pTL0gwJbBzy4EbSqo,3924
 client_test/grpc_utils_test.py,sha256=7BYCXGcRSzHeN4dk-a5AKFF4-t3wuIG3K_vs-rxJJ4w,5047
 client_test/helpers.py,sha256=O-1kXpxApUE5R1xLVQXNVytTIPNxCJBsBP7yjYFrisY,930
-client_test/image_test.py,sha256=6NVmuG8m4Fv9-2qaO5Q5LoC7_r37JRrC1vPpTYfNfqY,15884
+client_test/image_test.py,sha256=K5SWmG0IrBN7sbIdOr8w64FXaUgOdNVTEpHIjp3EZMY,15905
 client_test/live_reload_test.py,sha256=z_L-lFufhFfrTPL6ppAaJqVwcB5L1XLmkWBRCK_3bic,2356
 client_test/lookup_test.py,sha256=8hNnOD8b9wwvPp0r5REWJn8BNLhpZwOWy_IHgKdYWmI,2619
 client_test/mount_test.py,sha256=d79emlblHcv-Ey0N4jkye2roNXo_CoSRyectJadLmms,5317
 client_test/mounted_files_test.py,sha256=svuTGzOvbspbBj6twaHmCckdtpckVLpvpyCEWnAQrF0,6239
+client_test/network_file_system_test.py,sha256=j1FqZtNpyPJULvHjuGl88eatYd2lZBdJzTX_Fg6kZyQ,4563
 client_test/notebook_test.py,sha256=AzzAfpXBwXvfD4zwyqAr9GW-rM0RY4aJlXKBJ3GqBp8,2157
 client_test/object_test.py,sha256=wqFoG_CoNm610KaSU5aM5PhFFFm1yk38P5aWdt7MzsU,1394
 client_test/package_utils_test.py,sha256=5BHIMwW03ettWIZ2AqFHcD8n5FIXoEcy1g2qTyqFo3Y,413
 client_test/resolver_test.py,sha256=tsTPPV3xGnzn3zjs2eZ8zwh87uXV1mvJVyGHTKtXcjg,1560
 client_test/retries_test.py,sha256=Q-hNmElJjxYQ0DQ0VjEzjN7fX4wZvi3YSXS5oawjxHU,1807
 client_test/runner_test.py,sha256=yPUPq3S7Jw6oji-nMjURckRf2SiiAsbKijJ8CNoGJsQ,2428
 client_test/schedule_test.py,sha256=lyj6pHchOg_CqyJNQY8NbRUTfh-RxwAugcX5-P4b-0k,359
 client_test/secret_test.py,sha256=cCvFkKgt-0FXlSRv-Mq_6XpaJBv6gv8DoQTP4fEISCk,1185
 client_test/serialization_test.py,sha256=504YM-KzwkL7I5UlVOLB2vu_O6EByBowyH8m2vqYQR8,1086
-client_test/shared_volume_test.py,sha256=MZHjnoBrQ_1m4rdcrPyDZEUVb-48QeuKkYa8zWAY0So,4184
 client_test/stub_test.py,sha256=UlkyYTJPH4jSsM2adOtKlsJkVMJdCOhv6df9Nw4VaJ8,8092
 client_test/utils_test.py,sha256=AMlrnJQfGDjy1c8mnmaNwnCmDMUh726mFx8QHSAsaDc,2691
 client_test/version_test.py,sha256=XEiHOjqHd97yuhuUiaVU22-C72XhXJXQ4wPmPJt9n08,410
 client_test/volume_test.py,sha256=NN157JDadOXQBnJ__79xHiqtB82EYeqA3xw0ML8k-O4,2172
 client_test/watcher_test.py,sha256=kz--ZcsJC41gFr3-D7kKN7Co1ixn_yGqG13KdoGBomM,1160
 client_test/webhook_test.py,sha256=1r3tjNJNitcDr1U5PP4q89ketFvz-bRf2XJzhFpNczI,4014
-modal/__init__.py,sha256=yaJr4Cx0g-UUtHeVGWg0FTomVr5BHhbm6opSni_EV4w,1083
+modal/__init__.py,sha256=CxLv0aw8DsBZTG6_JDSCvGg_nohealhUnC2vM6Iie3c,1159
 modal/__main__.py,sha256=HIOFyoYAuCrSKzWKYrUhTYZMx-BzN9-XMWlgod1cKX0,157
 modal/_asgi.py,sha256=7mRziltjlStd2lixWerBFmPpGp9fTamveVC7i98RBGo,2135
 modal/_blob_utils.py,sha256=lEh4CrYPowtrjkAVa_mjkI03PWZAetYq6Na-Ho_AhW8,13413
 modal/_container_entrypoint.py,sha256=Wdy7f7pRN8cJ9-qXwuOYq0rtCkiYai3JHuuNJI3FT0Y,26319
 modal/_function_utils.py,sha256=6hVfx1xazHZeGkznGljTBEQfs6Z-CtVVfl35rI7EGEM,10990
 modal/_ipython.py,sha256=HF_DYy0e0qM9WnGDmTY30s1RxzGya9GeORCauCEpRaE,450
 modal/_location.py,sha256=_SdCPzVOl7HRwLWIxzTJjhdpOo1sIl4flfEJ-bAbiDE,929
@@ -59,61 +59,62 @@
 modal/_types.py,sha256=vUvweCqAt0S-mni_V_EGc_rDCKgJlU5g0P8r08zl1ko,490
 modal/_watcher.py,sha256=fTCNt2s5P-l91c6Mc9wWGbQe2CCFsPyRMNRe7GqXQ4o,3409
 modal/aio.py,sha256=drzo9s5NE5hpCS_Jv2a1NKdYKt3t25-YjlIunv3rm2M,703
 modal/app.py,sha256=0La3B3rJylLqPfQu4wv67IQ1QH_DDcP9T24ZGd6GAIQ,11467
 modal/app.pyi,sha256=keuw-AukqQQVafYWkBc7c0u1m9ghI2JbsBAToFytbr8,6300
 modal/call_graph.py,sha256=_cCMOMg7IeWNiRXdd-gJbb7pUYw2Ahl-KbXsizM6Lcg,2462
 modal/client.py,sha256=5SP2hnkap1_8ZZ_eu-DmhM3V24FP8X1Ew9XQNxyZ7EM,9162
-modal/client.pyi,sha256=zTDAZKai8Sr_kBmYY3V2FlCHogVKOvSOXpjg3XJBr5M,3429
+modal/client.pyi,sha256=He-zi_m2GbA5A5xtIlOY_qtRO5TivOAryj5OEaJ9BrU,3429
 modal/cls.py,sha256=O9qHequfOgR2HTwPfLYPK_3v8J4Ir0iByW0_hO0CYiM,1737
 modal/config.py,sha256=PiJtJ0LEdL_QBEUGncbfYhHy8CJlstmH9Xh7n7ZIhFM,7149
 modal/dict.py,sha256=qmxuk9jKtVPq9VVBMAH_so4THWhQE8TcSH93asGbjWo,6638
 modal/dict.pyi,sha256=JD6Me6tco-wMheGaqKsrNLCus92lCmFZf7Ll5U6LsYk,4061
 modal/environments.py,sha256=HfR240OmJxQ-o40_uZuP52EMNqGrovSW_GitoeEUBtI,2189
 modal/environments.pyi,sha256=I0CFWTrnwB_deMBNPxyc8SLnQQ6XpTNpkEOW-PXLz7U,1195
 modal/exception.py,sha256=gxHMYe7CiH1ijgGyiPe-KAxJOVkUquIMPgrOc-QIdSc,2750
-modal/functions.py,sha256=AX3A008piWQydRTw3dLO_ZreGY7xbbU1O0nTnObsgbc,60540
-modal/functions.pyi,sha256=oCFJsK4EHzZAEJLNY4DF5sj4xZDJAGfYK5gRWyV1wxg,17573
+modal/functions.py,sha256=ti0bjHx8P9pidTCT4NK_niDNDXBS6KHC0oeBcWZ9sHQ,60734
+modal/functions.pyi,sha256=aEDUz4tw3GsJNJzFlUQLQW1M7eU-eiTtjRGtcXGKZ4c,17647
 modal/gpu.py,sha256=CXpA2TLKXNhegMkRufAFBOeCqN2S8sKtW62p6G-z4Fc,4995
-modal/image.py,sha256=qTfW9u4ElPCa6mjVdlmm4wp8YpV3xqBmmLcOnVxjQC4,48532
-modal/image.pyi,sha256=8_1vK6hOcV6bsw-JqD03hrfGKUo0gh73XtZYrnY0FxU,14761
+modal/image.py,sha256=WOjbkD1d1RZM0jdxiPoopJcfDqBv3eRBI72Pp4ECwKs,48968
+modal/image.pyi,sha256=p7xUL3jXZYL2cGAajovc92u3wJGxKRMv90nVlXtuCQA,15024
 modal/mount.py,sha256=JRoxkU8uz0pxBs2y1r3TSv8FhTSDXA-l-1fVYcv-VaM,15044
 modal/mount.pyi,sha256=Op3V9CbEZlZxpS_kaUFUDL3EisWEQ93lcsaf8cD-4xU,5711
+modal/network_file_system.py,sha256=7BuzUunzHsDGv05vS2vJ_AP5VU6jZl-M2yvzKbp8STU,9913
+modal/network_file_system.pyi,sha256=x-f-wSyvMNQq9SxtlO4rtD-1_4ymtvcOokrLtPAH4Jo,4216
 modal/object.py,sha256=krTVmoOd7yQoYSCl8EWR3gQQQBvGa7qYDTep3jb1fz0,13027
 modal/object.pyi,sha256=YxzGCt-I_gQAOO461wFfcoW7jC2w75OVUfsM8eTNemg,7948
 modal/proxy.py,sha256=QcVqvdnt8Pd5cjtq1AKDVLeS0iiUAlkeNDUESLUATsc,623
 modal/proxy.pyi,sha256=A3rFDC6bFI911Xl0WHgganVd3XgVHRVobMofnzxmvuQ,312
 modal/py.typed,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 modal/queue.py,sha256=-4Hq0wfyZt6QVeZDueTDHIDdCUw2R2MhTAhQvcPWNPo,5686
 modal/queue.pyi,sha256=2AIukaj1RVKNOUVTXLAlMwrbsw1_TQwZbWaGTJsD_V0,3062
 modal/requirements.txt,sha256=OjsbXFkCSdkzzryZP82Q73osr5wxQ6EUzmGcK7twfkA,502
 modal/retries.py,sha256=bRDYRTUNFzmjRAggCcoMViqwu-PNnqbokc_QYCf_2nc,3730
-modal/runner.py,sha256=AOBYn93Pld2KPhFBj87olXIJDaNPB2pff29sJ4y9QUo,9446
+modal/runner.py,sha256=Hkke4NjqlCzbB4DR0YUDvpb0wXzaEviU8-uWc6hFbMI,9458
 modal/schedule.py,sha256=KUzkyV8bUZ1Oclx9thoR6q1ujX0JwPHkHKroJFS4X4k,2619
 modal/secret.py,sha256=pDYzAZuL59moRdDVYq-e_CI5FxXddVgNUZ4EsHJjT18,5078
 modal/secret.pyi,sha256=SskJ8Nt-wPAekVvQ6M8RGj8h9pvG1mDnEUjv-ViehCc,765
 modal/serving.py,sha256=BjGCRZ3Z67IHsSiSoX-8osjbLN3H41-K4zPg6KUsv_o,4717
-modal/shared_volume.py,sha256=3bt-vIRtzVDE_xoCAQH1GMAWUADuregsoIJqbAY4CgM,10056
-modal/shared_volume.pyi,sha256=dUoGzpUET7c74BX_SnDZZwtezAGqe1gOII1wnSTJiS8,4287
-modal/stub.py,sha256=jA7Om_hkBQFd2nYWJQ00GuNTwYaSVSVzcsf1MOEUnWY,28991
-modal/stub.pyi,sha256=fL9_N_j2itg-iqDpC7OxVnpqlMd6XTJeEb7DIN7oWII,13692
+modal/shared_volume.py,sha256=t22JARiSXII425NqlGQvk2KtocFkyZ-WgU0uA8QJx9Q,1284
+modal/stub.py,sha256=Be4ez2fAlFTqwy2H2dcoO3oLccpBYR-rO49pz_t6sIs,29745
+modal/stub.pyi,sha256=itwvvReEQbY1KnwXIuYPD3wW6cNlKMHkIVVzYn1HVAM,14212
 modal/volume.py,sha256=CqRhHoubt30QxAXeqJenA8ZDPCr9pClwP_JKYmYuWRw,5837
 modal/volume.pyi,sha256=TixDDegz56paa0NZNvFKRZnY7GSvn162UVhaOekALFc,1635
 modal/cli/__init__.py,sha256=waLjl5c6IPDhSsdWAm9Bji4e2PVxamYABKAze6CHVXY,28
 modal/cli/app.py,sha256=_lITn60tLTlfumDEb_5O9Tv6AYH05VliaxjqRna4RiM,3057
 modal/cli/config.py,sha256=kia7_FF3PejvlTaJRor2i3RwykDcDeaT1o77eGZyKzc,1373
-modal/cli/entry_point.py,sha256=M3iw5ZdcJm1ZrT8FGB1gsPuVou4zL_UZSyYhAFIsNao,1869
+modal/cli/entry_point.py,sha256=eVa8VU8L1lqL2owr_ADxYfT6OQEwj5mNYWf--NN9Ptg,1925
 modal/cli/environment.py,sha256=rKgbmaoO7U8EwJX3ZbZlH8K5ZFNNmmPd9L-jkXnVkp4,3413
 modal/cli/import_refs.py,sha256=lCplWDGnm6gkuZXsfOOgzmQLcfbnoo5Y0-a6Eh-NNOg,10552
+modal/cli/network_file_system.py,sha256=nrsZHXIookcIt_2PWOrrwJKT4JVzdbhcsByxwjBTM2s,10884
 modal/cli/profile.py,sha256=luy_4jtz6P5opvXZbHIVtGXJDaWWOPCLh0v3pxB_xUE,759
 modal/cli/run.py,sha256=kOpM5YgCULW_PUF8weOGmZgXaC1F9x-Ei0IPwGiLTiE,9503
 modal/cli/secret.py,sha256=UceNiFzWawv13OKqE93pXl1o2M2WImx9YIRK4-4eLlU,4029
 modal/cli/token.py,sha256=skraioUAJCfxzjQkcTfetKI22ToIR0xWEqEarIrZJlg,3085
 modal/cli/utils.py,sha256=TQsPc-T1j9ea3Xa09hXCUBVQhY9U5f-Itx6pisiKE08,1889
-modal/cli/volume.py,sha256=fiCfjo2ABr7rSLFcyjJw40w9LDvtr7S-GLOpRBpuHzQ,10210
 modal/extensions/__init__.py,sha256=waLjl5c6IPDhSsdWAm9Bji4e2PVxamYABKAze6CHVXY,28
 modal/extensions/ipython.py,sha256=pOFgBz4jFZtovwE_2qAOFiKwEVb4aZOA3oDbqOX2Gjo,987
 modal/extensions/pymc.py,sha256=tLK-SIa4ZH6pkKmyB3JXfbpYcmn2Xc7Q2KJP9FmsBzE,6221
 modal_base_images/__init__.py,sha256=waLjl5c6IPDhSsdWAm9Bji4e2PVxamYABKAze6CHVXY,28
 modal_base_images/client_mount.py,sha256=wKWxWKLbcGsXap7qxz0IK4h4v9PYXkvhOQxVIBv67X0,730
 modal_base_images/conda.py,sha256=O3Nf6GKzzKyra5XcrCHpN-SMUR3b49a4n1qP6vc3pmM,324
 modal_base_images/debian_slim.py,sha256=9iB8L0tuEDWas3Mge1jyGvfBXiKsJpcjqJT5M1fWRos,330
@@ -153,14 +154,14 @@
 modal_utils/grpc_testing.py,sha256=kdcS5-Y9KQIck9egO1k5c90wcj_JmOTAblYHvXnIfHM,6538
 modal_utils/grpc_utils.py,sha256=nvoS4UwH3t2sH13Nnd9VRrG7FFpCcBbacU6PX8rM_KA,9320
 modal_utils/hash_utils.py,sha256=YOE1LZwyqaTQSZajrF-H_5_iJkjxMclJewC0SgH_8xA,1597
 modal_utils/http_utils.py,sha256=DGKvrSQxAHjP_LNdM6EaL-TIQPGDX5vt3gcMGg2xkz4,1426
 modal_utils/logger.py,sha256=odPE0R8_9GkufC_74wqolLikZVIbdxmwDF5xeoILklU,113
 modal_utils/package_utils.py,sha256=TLF7GygWqsqZpL-dVnchts55IcTwkMPFLBGeZjuRXCw,1226
 modal_version/__init__.py,sha256=4HAjuKbNhfE463OlLVk6aZlZ7bPvEm90fXDuz6wyxRs,458
-modal_version/_version_generated.py,sha256=aRtY-_X-a0VKLII4TLULRIA0HqHbmbhiaXy5KcCZ4Ek,48
-modal_client-0.50.2581.dist-info/LICENSE,sha256=psuoW8kuDP96RQsdhzwOqi6fyWv0ct8CR6Jr7He_P_k,10173
-modal_client-0.50.2581.dist-info/METADATA,sha256=NhWW0qL6l5VYQkJNG1MBt9ZjPVbQBKCN38rxc1KCYWI,1923
-modal_client-0.50.2581.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-modal_client-0.50.2581.dist-info/entry_points.txt,sha256=An-wYgeEUnm6xzrAP9_NTSTSciYvvEWsMZILtYrvpAI,46
-modal_client-0.50.2581.dist-info/top_level.txt,sha256=vTBZ60jGY6Z2jEeHlo3uEJRmrR3M1rZoXur0ZaqOrS4,93
-modal_client-0.50.2581.dist-info/RECORD,,
+modal_version/_version_generated.py,sha256=59EfXpJxfNzXuGyDljnDoEV9vI9aQdZhy4FsWAW8oco,48
+modal_client-0.50.2586.dist-info/LICENSE,sha256=psuoW8kuDP96RQsdhzwOqi6fyWv0ct8CR6Jr7He_P_k,10173
+modal_client-0.50.2586.dist-info/METADATA,sha256=mxNO03nWRLkORZpwtzehkgKxDOt1y2qSA2jUUcFyuaI,1923
+modal_client-0.50.2586.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
+modal_client-0.50.2586.dist-info/entry_points.txt,sha256=An-wYgeEUnm6xzrAP9_NTSTSciYvvEWsMZILtYrvpAI,46
+modal_client-0.50.2586.dist-info/top_level.txt,sha256=vTBZ60jGY6Z2jEeHlo3uEJRmrR3M1rZoXur0ZaqOrS4,93
+modal_client-0.50.2586.dist-info/RECORD,,
```

